<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DPDK: ip_pipeline/pipeline/pipeline_common_fe.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">16.04.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ip_pipeline/pipeline/pipeline_common_fe.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/*-</span></div>
<div class="line"><span class="comment"> *   BSD LICENSE</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   Copyright(c) 2010-2015 Intel Corporation. All rights reserved.</span></div>
<div class="line"><span class="comment"> *   All rights reserved.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><span class="comment"> *   modification, are permitted provided that the following conditions</span></div>
<div class="line"><span class="comment"> *   are met:</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><span class="comment"> *       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><span class="comment"> *       notice, this list of conditions and the following disclaimer in</span></div>
<div class="line"><span class="comment"> *       the documentation and/or other materials provided with the</span></div>
<div class="line"><span class="comment"> *       distribution.</span></div>
<div class="line"><span class="comment"> *     * Neither the name of Intel Corporation nor the names of its</span></div>
<div class="line"><span class="comment"> *       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><span class="comment"> *       from this software without specific prior written permission.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><span class="comment"> *   &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><span class="comment"> *   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><span class="comment"> *   A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><span class="comment"> *   OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><span class="comment"> *   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><span class="comment"> *   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><span class="comment"> *   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><span class="comment"> *   THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><span class="comment"> *   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><span class="comment"> *   OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__common_8h.html">rte_common.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__ring_8h.html">rte_ring.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__malloc_8h.html">rte_malloc.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmdline_rdline.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmdline_parse.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmdline_parse_num.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmdline_parse_string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmdline_parse_ipaddr.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmdline_parse_etheraddr.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmdline_socket.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="cmdline_8h.html">cmdline.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;pipeline_common_fe.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_pipeline_ping(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t pipeline_id)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pipeline_params *p;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_msg_req *req;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> (app == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;pipeline_params, <span class="stringliteral">&quot;PIPELINE&quot;</span>, pipeline_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> (p == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer allocation */</span></div>
<div class="line">    req = app_msg_alloc(app);</div>
<div class="line">    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Fill in request */</span></div>
<div class="line">    req-&gt;type = PIPELINE_MSG_REQ_PING;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Send request and wait for response */</span></div>
<div class="line">    rsp = app_msg_send_recv(app, pipeline_id, req, MSG_TIMEOUT_DEFAULT);</div>
<div class="line">    <span class="keywordflow">if</span> (rsp == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check response */</span></div>
<div class="line">    status = rsp-&gt;status;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer free */</span></div>
<div class="line">    app_msg_free(app, rsp);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_pipeline_stats_port_in(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t pipeline_id,</div>
<div class="line">    uint32_t port_id,</div>
<div class="line">    <span class="keyword">struct</span> <a name="_a0"></a><a class="code" href="structrte__pipeline__port__in__stats.html">rte_pipeline_port_in_stats</a> *stats)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pipeline_params *p;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_stats_msg_req *req;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_stats_port_in_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((app == NULL) ||</div>
<div class="line">        (stats == NULL))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;pipeline_params, <span class="stringliteral">&quot;PIPELINE&quot;</span>, pipeline_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> ((p == NULL) ||</div>
<div class="line">        (port_id &gt;= p-&gt;n_pktq_in))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer allocation */</span></div>
<div class="line">    req = app_msg_alloc(app);</div>
<div class="line">    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Fill in request */</span></div>
<div class="line">    req-&gt;type = PIPELINE_MSG_REQ_STATS_PORT_IN;</div>
<div class="line">    req-&gt;id = port_id;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Send request and wait for response */</span></div>
<div class="line">    rsp = (<span class="keyword">struct </span>pipeline_stats_port_in_msg_rsp *)</div>
<div class="line">        app_msg_send_recv(app, pipeline_id, req, MSG_TIMEOUT_DEFAULT);</div>
<div class="line">    <span class="keywordflow">if</span> (rsp == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check response */</span></div>
<div class="line">    status = rsp-&gt;status;</div>
<div class="line">    <span class="keywordflow">if</span> (status == 0)</div>
<div class="line">        memcpy(stats, &amp;rsp-&gt;<a name="a1"></a><a class="code" href="structrte__pipeline__port__in__stats.html#a48efd9560ccf56a1dedb5d25e323fa8a">stats</a>, <span class="keyword">sizeof</span>(rsp-&gt;stats));</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer free */</span></div>
<div class="line">    app_msg_free(app, rsp);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_pipeline_stats_port_out(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t pipeline_id,</div>
<div class="line">    uint32_t port_id,</div>
<div class="line">    <span class="keyword">struct</span> <a name="_a2"></a><a class="code" href="structrte__pipeline__port__out__stats.html">rte_pipeline_port_out_stats</a> *stats)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pipeline_params *p;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_stats_msg_req *req;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_stats_port_out_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((app == NULL) ||</div>
<div class="line">        (pipeline_id &gt;= app-&gt;n_pipelines) ||</div>
<div class="line">        (stats == NULL))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;pipeline_params, <span class="stringliteral">&quot;PIPELINE&quot;</span>, pipeline_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> ((p == NULL) ||</div>
<div class="line">        (port_id &gt;= p-&gt;n_pktq_out))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer allocation */</span></div>
<div class="line">    req = app_msg_alloc(app);</div>
<div class="line">    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Fill in request */</span></div>
<div class="line">    req-&gt;type = PIPELINE_MSG_REQ_STATS_PORT_OUT;</div>
<div class="line">    req-&gt;id = port_id;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Send request and wait for response */</span></div>
<div class="line">    rsp = app_msg_send_recv(app, pipeline_id, req, MSG_TIMEOUT_DEFAULT);</div>
<div class="line">    <span class="keywordflow">if</span> (rsp == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check response */</span></div>
<div class="line">    status = rsp-&gt;status;</div>
<div class="line">    <span class="keywordflow">if</span> (status == 0)</div>
<div class="line">        memcpy(stats, &amp;rsp-&gt;<a name="a3"></a><a class="code" href="structrte__pipeline__port__out__stats.html#a7d127ce0e2d9594ebb38cc5441e60174">stats</a>, <span class="keyword">sizeof</span>(rsp-&gt;stats));</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer free */</span></div>
<div class="line">    app_msg_free(app, rsp);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_pipeline_stats_table(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t pipeline_id,</div>
<div class="line">    uint32_t table_id,</div>
<div class="line">    <span class="keyword">struct</span> <a name="_a4"></a><a class="code" href="structrte__pipeline__table__stats.html">rte_pipeline_table_stats</a> *stats)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pipeline_params *p;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_stats_msg_req *req;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_stats_table_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((app == NULL) ||</div>
<div class="line">        (stats == NULL))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;pipeline_params, <span class="stringliteral">&quot;PIPELINE&quot;</span>, pipeline_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> (p == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer allocation */</span></div>
<div class="line">    req = app_msg_alloc(app);</div>
<div class="line">    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Fill in request */</span></div>
<div class="line">    req-&gt;type = PIPELINE_MSG_REQ_STATS_TABLE;</div>
<div class="line">    req-&gt;id = table_id;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Send request and wait for response */</span></div>
<div class="line">    rsp = app_msg_send_recv(app, pipeline_id, req, MSG_TIMEOUT_DEFAULT);</div>
<div class="line">    <span class="keywordflow">if</span> (rsp == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check response */</span></div>
<div class="line">    status = rsp-&gt;status;</div>
<div class="line">    <span class="keywordflow">if</span> (status == 0)</div>
<div class="line">        memcpy(stats, &amp;rsp-&gt;<a name="a5"></a><a class="code" href="structrte__pipeline__table__stats.html#a324dbcea014c359561641979bb66c6f1">stats</a>, <span class="keyword">sizeof</span>(rsp-&gt;stats));</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer free */</span></div>
<div class="line">    app_msg_free(app, rsp);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_pipeline_port_in_enable(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t pipeline_id,</div>
<div class="line">    uint32_t port_id)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pipeline_params *p;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_port_in_msg_req *req;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> (app == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;pipeline_params, <span class="stringliteral">&quot;PIPELINE&quot;</span>, pipeline_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> ((p == NULL) ||</div>
<div class="line">        (port_id &gt;= p-&gt;n_pktq_in))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer allocation */</span></div>
<div class="line">    req = app_msg_alloc(app);</div>
<div class="line">    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Fill in request */</span></div>
<div class="line">    req-&gt;type = PIPELINE_MSG_REQ_PORT_IN_ENABLE;</div>
<div class="line">    req-&gt;port_id = port_id;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Send request and wait for response */</span></div>
<div class="line">    rsp = app_msg_send_recv(app, pipeline_id, req, MSG_TIMEOUT_DEFAULT);</div>
<div class="line">    <span class="keywordflow">if</span> (rsp == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check response */</span></div>
<div class="line">    status = rsp-&gt;status;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer free */</span></div>
<div class="line">    app_msg_free(app, rsp);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_pipeline_port_in_disable(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t pipeline_id,</div>
<div class="line">    uint32_t port_id)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pipeline_params *p;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_port_in_msg_req *req;</div>
<div class="line">    <span class="keyword">struct </span>pipeline_msg_rsp *rsp;</div>
<div class="line">    <span class="keywordtype">int</span> status = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> (app == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;pipeline_params, <span class="stringliteral">&quot;PIPELINE&quot;</span>, pipeline_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> ((p == NULL) ||</div>
<div class="line">        (port_id &gt;= p-&gt;n_pktq_in))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer allocation */</span></div>
<div class="line">    req = app_msg_alloc(app);</div>
<div class="line">    <span class="keywordflow">if</span> (req == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Fill in request */</span></div>
<div class="line">    req-&gt;type = PIPELINE_MSG_REQ_PORT_IN_DISABLE;</div>
<div class="line">    req-&gt;port_id = port_id;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Send request and wait for response */</span></div>
<div class="line">    rsp = app_msg_send_recv(app, pipeline_id, req, MSG_TIMEOUT_DEFAULT);</div>
<div class="line">    <span class="keywordflow">if</span> (rsp == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check response */</span></div>
<div class="line">    status = rsp-&gt;status;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Message buffer free */</span></div>
<div class="line">    app_msg_free(app, rsp);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_link_config(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t link_id,</div>
<div class="line">    uint32_t ip,</div>
<div class="line">    uint32_t depth)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_link_params *p;</div>
<div class="line">    uint32_t i, netmask, host, bcast;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> (app == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;link_params, <span class="stringliteral">&quot;LINK&quot;</span>, link_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> (p == NULL) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;LINK%&quot;</span> PRIu32 <span class="stringliteral">&quot; is not a valid link&quot;</span>,</div>
<div class="line">            link_id);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;state) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;%s is UP, please bring it DOWN first&quot;</span>,</div>
<div class="line">            p-&gt;name);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    netmask = (~0U) &lt;&lt; (32 - depth);</div>
<div class="line">    host = ip &amp; netmask;</div>
<div class="line">    bcast = host | (~netmask);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ((ip == 0) ||</div>
<div class="line">        (ip == UINT32_MAX) ||</div>
<div class="line">        (ip == host) ||</div>
<div class="line">        (ip == bcast)) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;Illegal IP address&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; app-&gt;n_links; i++) {</div>
<div class="line">        <span class="keyword">struct </span>app_link_params *link = &amp;app-&gt;link_params[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(p-&gt;name, link-&gt;name) == 0)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (link-&gt;ip == ip) {</div>
<div class="line">            APP_LOG(app, HIGH,</div>
<div class="line">                <span class="stringliteral">&quot;%s is already assigned this IP address&quot;</span>,</div>
<div class="line">                link-&gt;name);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> ((depth == 0) || (depth &gt; 32)) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;Illegal value for depth parameter &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;(%&quot;</span> PRIu32 <span class="stringliteral">&quot;)&quot;</span>,</div>
<div class="line">            depth);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Save link parameters */</span></div>
<div class="line">    p-&gt;ip = ip;</div>
<div class="line">    p-&gt;depth = depth;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_link_up(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t link_id)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_link_params *p;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> (app == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;link_params, <span class="stringliteral">&quot;LINK&quot;</span>, link_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> (p == NULL) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;LINK%&quot;</span> PRIu32 <span class="stringliteral">&quot; is not a valid link&quot;</span>,</div>
<div class="line">            link_id);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check link state */</span></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;state) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;%s is already UP&quot;</span>, p-&gt;name);</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check that IP address is valid */</span></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;ip == 0) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;%s IP address is not set&quot;</span>, p-&gt;name);</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    app_link_up_internal(app, p);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_link_down(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint32_t link_id)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_link_params *p;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input arguments */</span></div>
<div class="line">    <span class="keywordflow">if</span> (app == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    APP_PARAM_FIND_BY_ID(app-&gt;link_params, <span class="stringliteral">&quot;LINK&quot;</span>, link_id, p);</div>
<div class="line">    <span class="keywordflow">if</span> (p == NULL) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;LINK%&quot;</span> PRIu32 <span class="stringliteral">&quot; is not a valid link&quot;</span>,</div>
<div class="line">            link_id);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check link state */</span></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;state == 0) {</div>
<div class="line">        APP_LOG(app, HIGH, <span class="stringliteral">&quot;%s is already DOWN&quot;</span>, p-&gt;name);</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    app_link_down_internal(app, p);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * ping</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_ping_result {</div>
<div class="line">    cmdline_fixed_string_t p_string;</div>
<div class="line">    uint32_t pipeline_id;</div>
<div class="line">    cmdline_fixed_string_t ping_string;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_ping_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    <a name="a6"></a><a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a> <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_ping_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    status = app_pipeline_ping(app, params-&gt;pipeline_id);</div>
<div class="line">    <span class="keywordflow">if</span> (status != 0)</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_ping_p_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_ping_result, p_string, <span class="stringliteral">&quot;p&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_ping_pipeline_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_ping_result, pipeline_id, UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_ping_ping_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_ping_result, ping_string, <span class="stringliteral">&quot;ping&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_ping = {</div>
<div class="line">    .f = cmd_ping_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Pipeline ping&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_ping_p_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_ping_pipeline_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_ping_ping_string,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * stats port in</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_stats_port_in_result {</div>
<div class="line">    cmdline_fixed_string_t p_string;</div>
<div class="line">    uint32_t pipeline_id;</div>
<div class="line">    cmdline_fixed_string_t stats_string;</div>
<div class="line">    cmdline_fixed_string_t port_string;</div>
<div class="line">    cmdline_fixed_string_t in_string;</div>
<div class="line">    uint32_t port_in_id;</div>
<div class="line"></div>
<div class="line">};</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_stats_port_in_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a> <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_stats_port_in_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__pipeline__port__in__stats.html">rte_pipeline_port_in_stats</a> stats;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    status = app_pipeline_stats_port_in(app,</div>
<div class="line">            params-&gt;pipeline_id,</div>
<div class="line">            params-&gt;port_in_id,</div>
<div class="line">            &amp;stats);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (status != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Display stats */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Pipeline %&quot;</span> PRIu32 <span class="stringliteral">&quot; - stats for input port %&quot;</span> PRIu32 <span class="stringliteral">&quot;:\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts in: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts dropped by AH: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts dropped by other: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        params-&gt;pipeline_id,</div>
<div class="line">        params-&gt;port_in_id,</div>
<div class="line">        stats.<a class="code" href="structrte__pipeline__table__stats.html#a324dbcea014c359561641979bb66c6f1">stats</a>.<a name="a7"></a>n_pkts_in,</div>
<div class="line">        stats.n_pkts_dropped_by_ah,</div>
<div class="line">        stats.<a class="code" href="structrte__pipeline__table__stats.html#a324dbcea014c359561641979bb66c6f1">stats</a>.n_pkts_drop);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_port_in_p_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_in_result, p_string,</div>
<div class="line">        <span class="stringliteral">&quot;p&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_stats_port_in_pipeline_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_in_result, pipeline_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_port_in_stats_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_in_result, stats_string,</div>
<div class="line">        <span class="stringliteral">&quot;stats&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_port_in_port_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_in_result, port_string,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_port_in_in_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_in_result, in_string,</div>
<div class="line">        <span class="stringliteral">&quot;in&quot;</span>);</div>
<div class="line"></div>
<div class="line">    cmdline_parse_token_num_t cmd_stats_port_in_port_in_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_in_result, port_in_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_stats_port_in = {</div>
<div class="line">    .f = cmd_stats_port_in_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Pipeline input port stats&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_in_p_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_in_pipeline_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_in_stats_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_in_port_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_in_in_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_in_port_in_id,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * stats port out</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_stats_port_out_result {</div>
<div class="line">    cmdline_fixed_string_t p_string;</div>
<div class="line">    uint32_t pipeline_id;</div>
<div class="line">    cmdline_fixed_string_t stats_string;</div>
<div class="line">    cmdline_fixed_string_t port_string;</div>
<div class="line">    cmdline_fixed_string_t out_string;</div>
<div class="line">    uint32_t port_out_id;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_stats_port_out_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a> <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="keyword">struct </span>cmd_stats_port_out_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__pipeline__port__out__stats.html">rte_pipeline_port_out_stats</a> stats;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    status = app_pipeline_stats_port_out(app,</div>
<div class="line">            params-&gt;pipeline_id,</div>
<div class="line">            params-&gt;port_out_id,</div>
<div class="line">            &amp;stats);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (status != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Display stats */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Pipeline %&quot;</span> PRIu32 <span class="stringliteral">&quot; - stats for output port %&quot;</span> PRIu32 <span class="stringliteral">&quot;:\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts in: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts dropped by AH: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts dropped by other: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        params-&gt;pipeline_id,</div>
<div class="line">        params-&gt;port_out_id,</div>
<div class="line">        stats.<a class="code" href="structrte__pipeline__table__stats.html#a324dbcea014c359561641979bb66c6f1">stats</a>.n_pkts_in,</div>
<div class="line">        stats.n_pkts_dropped_by_ah,</div>
<div class="line">        stats.<a class="code" href="structrte__pipeline__table__stats.html#a324dbcea014c359561641979bb66c6f1">stats</a>.n_pkts_drop);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_port_out_p_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_out_result, p_string,</div>
<div class="line">    <span class="stringliteral">&quot;p&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_stats_port_out_pipeline_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_out_result, pipeline_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_port_out_stats_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_out_result, stats_string,</div>
<div class="line">        <span class="stringliteral">&quot;stats&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_port_out_port_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_out_result, port_string,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_port_out_out_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_out_result, out_string,</div>
<div class="line">        <span class="stringliteral">&quot;out&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_stats_port_out_port_out_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_stats_port_out_result, port_out_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_stats_port_out = {</div>
<div class="line">    .f = cmd_stats_port_out_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Pipeline output port stats&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_out_p_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_out_pipeline_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_out_stats_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_out_port_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_out_out_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_port_out_port_out_id,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * stats table</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_stats_table_result {</div>
<div class="line">    cmdline_fixed_string_t p_string;</div>
<div class="line">    uint32_t pipeline_id;</div>
<div class="line">    cmdline_fixed_string_t stats_string;</div>
<div class="line">    cmdline_fixed_string_t table_string;</div>
<div class="line">    uint32_t table_id;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_stats_table_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a> <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_stats_table_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__pipeline__table__stats.html">rte_pipeline_table_stats</a> stats;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    status = app_pipeline_stats_table(app,</div>
<div class="line">            params-&gt;pipeline_id,</div>
<div class="line">            params-&gt;table_id,</div>
<div class="line">            &amp;stats);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (status != 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Display stats */</span></div>
<div class="line">    printf(<span class="stringliteral">&quot;Pipeline %&quot;</span> PRIu32 <span class="stringliteral">&quot; - stats for table %&quot;</span> PRIu32 <span class="stringliteral">&quot;:\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts in: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts in with lookup miss: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts in with lookup hit dropped by AH: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts in with lookup hit dropped by others: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts in with lookup miss dropped by AH: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\tPkts in with lookup miss dropped by others: %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        params-&gt;pipeline_id,</div>
<div class="line">        params-&gt;table_id,</div>
<div class="line">        stats.<a class="code" href="structrte__pipeline__table__stats.html#a324dbcea014c359561641979bb66c6f1">stats</a>.n_pkts_in,</div>
<div class="line">        stats.<a class="code" href="structrte__pipeline__table__stats.html#a324dbcea014c359561641979bb66c6f1">stats</a>.<a name="a8"></a>n_pkts_lookup_miss,</div>
<div class="line">        stats.<a name="a9"></a><a class="code" href="structrte__pipeline__table__stats.html#a16cf5748528442f6d2156c85fe193ad4">n_pkts_dropped_by_lkp_hit_ah</a>,</div>
<div class="line">        stats.<a name="a10"></a><a class="code" href="structrte__pipeline__table__stats.html#ac2471b41cf06148e9740d82897cb4c57">n_pkts_dropped_lkp_hit</a>,</div>
<div class="line">        stats.<a name="a11"></a><a class="code" href="structrte__pipeline__table__stats.html#aca80f468ff4d4c1395c118b7dd4fa6db">n_pkts_dropped_by_lkp_miss_ah</a>,</div>
<div class="line">        stats.<a name="a12"></a><a class="code" href="structrte__pipeline__table__stats.html#aef5e211b905a3fd3b62753646204856a">n_pkts_dropped_lkp_miss</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_table_p_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_table_result, p_string,</div>
<div class="line">        <span class="stringliteral">&quot;p&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_stats_table_pipeline_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_stats_table_result, pipeline_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_table_stats_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_table_result, stats_string,</div>
<div class="line">        <span class="stringliteral">&quot;stats&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_stats_table_table_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_stats_table_result, table_string,</div>
<div class="line">        <span class="stringliteral">&quot;table&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_stats_table_table_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_stats_table_result, table_id, UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_stats_table = {</div>
<div class="line">    .f = cmd_stats_table_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Pipeline table stats&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_table_p_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_table_pipeline_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_table_stats_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_table_table_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_stats_table_table_id,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * port in enable</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_port_in_enable_result {</div>
<div class="line">    cmdline_fixed_string_t p_string;</div>
<div class="line">    uint32_t pipeline_id;</div>
<div class="line">    cmdline_fixed_string_t port_string;</div>
<div class="line">    cmdline_fixed_string_t in_string;</div>
<div class="line">    uint32_t port_in_id;</div>
<div class="line">    cmdline_fixed_string_t enable_string;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_port_in_enable_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a> <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_port_in_enable_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    status = app_pipeline_port_in_enable(app,</div>
<div class="line">            params-&gt;pipeline_id,</div>
<div class="line">            params-&gt;port_in_id);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (status != 0)</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_port_in_enable_p_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_enable_result, p_string,</div>
<div class="line">        <span class="stringliteral">&quot;p&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_port_in_enable_pipeline_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_enable_result, pipeline_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_port_in_enable_port_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_enable_result, port_string,</div>
<div class="line">    <span class="stringliteral">&quot;port&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_port_in_enable_in_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_enable_result, in_string,</div>
<div class="line">        <span class="stringliteral">&quot;in&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_port_in_enable_port_in_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_enable_result, port_in_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_port_in_enable_enable_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_enable_result,</div>
<div class="line">        enable_string, <span class="stringliteral">&quot;enable&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_port_in_enable = {</div>
<div class="line">    .f = cmd_port_in_enable_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Pipeline input port enable&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_enable_p_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_enable_pipeline_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_enable_port_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_enable_in_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_enable_port_in_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_enable_enable_string,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * port in disable</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_port_in_disable_result {</div>
<div class="line">    cmdline_fixed_string_t p_string;</div>
<div class="line">    uint32_t pipeline_id;</div>
<div class="line">    cmdline_fixed_string_t port_string;</div>
<div class="line">    cmdline_fixed_string_t in_string;</div>
<div class="line">    uint32_t port_in_id;</div>
<div class="line">    cmdline_fixed_string_t disable_string;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_port_in_disable_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a> <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_port_in_disable_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    status = app_pipeline_port_in_disable(app,</div>
<div class="line">            params-&gt;pipeline_id,</div>
<div class="line">            params-&gt;port_in_id);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (status != 0)</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_port_in_disable_p_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_disable_result, p_string,</div>
<div class="line">        <span class="stringliteral">&quot;p&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_port_in_disable_pipeline_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_disable_result, pipeline_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_port_in_disable_port_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_disable_result, port_string,</div>
<div class="line">        <span class="stringliteral">&quot;port&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_port_in_disable_in_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_disable_result, in_string,</div>
<div class="line">        <span class="stringliteral">&quot;in&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_port_in_disable_port_in_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_disable_result, port_in_id,</div>
<div class="line">        UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_port_in_disable_disable_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_port_in_disable_result,</div>
<div class="line">        disable_string, <span class="stringliteral">&quot;disable&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_port_in_disable = {</div>
<div class="line">    .f = cmd_port_in_disable_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Pipeline input port disable&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_disable_p_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_disable_pipeline_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_disable_port_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_disable_in_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_disable_port_in_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_port_in_disable_disable_string,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * link config</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">print_link_info(<span class="keyword">struct</span> app_link_params *p)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a name="_a13"></a><a class="code" href="structrte__eth__stats.html">rte_eth_stats</a> stats;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a14"></a><a class="code" href="structether__addr.html">ether_addr</a> *mac_addr;</div>
<div class="line">    uint32_t netmask = (~0U) &lt;&lt; (32 - p-&gt;depth);</div>
<div class="line">    uint32_t host = p-&gt;ip &amp; netmask;</div>
<div class="line">    uint32_t bcast = host | (~netmask);</div>
<div class="line"></div>
<div class="line">    memset(&amp;stats, 0, <span class="keyword">sizeof</span>(stats));</div>
<div class="line">    <a name="a15"></a><a class="code" href="rte__ethdev_8h.html#a97567472450b31ef53950fb2ef47298b">rte_eth_stats_get</a>(p-&gt;pmd_id, &amp;stats);</div>
<div class="line"></div>
<div class="line">    mac_addr = (<span class="keyword">struct </span><a class="code" href="structether__addr.html">ether_addr</a> *) &amp;p-&gt;mac_addr;</div>
<div class="line"></div>
<div class="line">    if (strlen(p-&gt;pci_bdf))</div>
<div class="line">        printf(<span class="stringliteral">&quot;%s(%s): flags=&lt;%s&gt;\n&quot;</span>,</div>
<div class="line">            p-&gt;name,</div>
<div class="line">            p-&gt;pci_bdf,</div>
<div class="line">            (p-&gt;state) ? <span class="stringliteral">&quot;UP&quot;</span> : <span class="stringliteral">&quot;DOWN&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        printf(<span class="stringliteral">&quot;%s: flags=&lt;%s&gt;\n&quot;</span>,</div>
<div class="line">            p-&gt;name,</div>
<div class="line">            (p-&gt;state) ? <span class="stringliteral">&quot;UP&quot;</span> : <span class="stringliteral">&quot;DOWN&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;ip)</div>
<div class="line">        printf(<span class="stringliteral">&quot;\tinet %&quot;</span> PRIu32 <span class="stringliteral">&quot;.%&quot;</span> PRIu32</div>
<div class="line">            <span class="stringliteral">&quot;.%&quot;</span> PRIu32 <span class="stringliteral">&quot;.%&quot;</span> PRIu32</div>
<div class="line">            <span class="stringliteral">&quot; netmask %&quot;</span> PRIu32 <span class="stringliteral">&quot;.%&quot;</span> PRIu32</div>
<div class="line">            <span class="stringliteral">&quot;.%&quot;</span> PRIu32 <span class="stringliteral">&quot;.%&quot;</span> PRIu32 <span class="stringliteral">&quot; &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;broadcast %&quot;</span> PRIu32 <span class="stringliteral">&quot;.%&quot;</span> PRIu32</div>
<div class="line">            <span class="stringliteral">&quot;.%&quot;</span> PRIu32 <span class="stringliteral">&quot;.%&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">            (p-&gt;ip &gt;&gt; 24) &amp; 0xFF,</div>
<div class="line">            (p-&gt;ip &gt;&gt; 16) &amp; 0xFF,</div>
<div class="line">            (p-&gt;ip &gt;&gt; 8) &amp; 0xFF,</div>
<div class="line">            p-&gt;ip &amp; 0xFF,</div>
<div class="line">            (netmask &gt;&gt; 24) &amp; 0xFF,</div>
<div class="line">            (netmask &gt;&gt; 16) &amp; 0xFF,</div>
<div class="line">            (netmask &gt;&gt; 8) &amp; 0xFF,</div>
<div class="line">            netmask &amp; 0xFF,</div>
<div class="line">            (bcast &gt;&gt; 24) &amp; 0xFF,</div>
<div class="line">            (bcast &gt;&gt; 16) &amp; 0xFF,</div>
<div class="line">            (bcast &gt;&gt; 8) &amp; 0xFF,</div>
<div class="line">            bcast &amp; 0xFF);</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\tether %02&quot;</span> PRIx32 <span class="stringliteral">&quot;:%02&quot;</span> PRIx32 <span class="stringliteral">&quot;:%02&quot;</span> PRIx32</div>
<div class="line">        <span class="stringliteral">&quot;:%02&quot;</span> PRIx32 <span class="stringliteral">&quot;:%02&quot;</span> PRIx32 <span class="stringliteral">&quot;:%02&quot;</span> PRIx32 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        mac_addr-&gt;<a name="a16"></a><a class="code" href="structether__addr.html#a17e6cc2bacfdff827dfbe413871ee2bc">addr_bytes</a>[0],</div>
<div class="line">        mac_addr-&gt;<a class="code" href="structether__addr.html#a17e6cc2bacfdff827dfbe413871ee2bc">addr_bytes</a>[1],</div>
<div class="line">        mac_addr-&gt;<a class="code" href="structether__addr.html#a17e6cc2bacfdff827dfbe413871ee2bc">addr_bytes</a>[2],</div>
<div class="line">        mac_addr-&gt;<a class="code" href="structether__addr.html#a17e6cc2bacfdff827dfbe413871ee2bc">addr_bytes</a>[3],</div>
<div class="line">        mac_addr-&gt;<a class="code" href="structether__addr.html#a17e6cc2bacfdff827dfbe413871ee2bc">addr_bytes</a>[4],</div>
<div class="line">        mac_addr-&gt;<a class="code" href="structether__addr.html#a17e6cc2bacfdff827dfbe413871ee2bc">addr_bytes</a>[5]);</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\tRX packets %&quot;</span> PRIu64</div>
<div class="line">        <span class="stringliteral">&quot;  bytes %&quot;</span> PRIu64</div>
<div class="line">        <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        stats.ipackets,</div>
<div class="line">        stats.ibytes);</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\tRX errors %&quot;</span> PRIu64</div>
<div class="line">        <span class="stringliteral">&quot;  missed %&quot;</span> PRIu64</div>
<div class="line">        <span class="stringliteral">&quot;  no-mbuf %&quot;</span> PRIu64</div>
<div class="line">        <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        stats.ierrors,</div>
<div class="line">        stats.imissed,</div>
<div class="line">        stats.rx_nombuf);</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\tTX packets %&quot;</span> PRIu64</div>
<div class="line">        <span class="stringliteral">&quot;  bytes %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        stats.opackets,</div>
<div class="line">        stats.obytes);</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\tTX errors %&quot;</span> PRIu64</div>
<div class="line">        <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">        stats.oerrors);</div>
<div class="line"></div>
<div class="line">    printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_link_config_result {</div>
<div class="line">    cmdline_fixed_string_t link_string;</div>
<div class="line">    uint32_t link_id;</div>
<div class="line">    cmdline_fixed_string_t config_string;</div>
<div class="line">    cmdline_ipaddr_t ip;</div>
<div class="line">    uint32_t depth;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_link_config_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    __attribute__((unused)) <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">     <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_link_config_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    uint32_t link_id = params-&gt;link_id;</div>
<div class="line">    uint32_t ip  = <a name="a17"></a><a class="code" href="rte__byteorder_8h.html#aa1ddd507bcc0a87bbcfc5fdd9113094a">rte_bswap32</a>((uint32_t) params-&gt;ip.addr.ipv4.s_addr);</div>
<div class="line">    uint32_t depth = params-&gt;depth;</div>
<div class="line"></div>
<div class="line">    status = app_link_config(app, link_id, ip, depth);</div>
<div class="line">    <span class="keywordflow">if</span> (status)</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">struct </span>app_link_params *p;</div>
<div class="line"></div>
<div class="line">        APP_PARAM_FIND_BY_ID(app-&gt;link_params, <span class="stringliteral">&quot;LINK&quot;</span>, link_id, p);</div>
<div class="line">        print_link_info(p);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_link_config_link_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_link_config_result, link_string,</div>
<div class="line">        <span class="stringliteral">&quot;link&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_link_config_link_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_link_config_result, link_id, UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_link_config_config_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_link_config_result, config_string,</div>
<div class="line">        <span class="stringliteral">&quot;config&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_ipaddr_t cmd_link_config_ip =</div>
<div class="line">    TOKEN_IPV4_INITIALIZER(<span class="keyword">struct</span> cmd_link_config_result, ip);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_link_config_depth =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_link_config_result, depth, UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_link_config = {</div>
<div class="line">    .f = cmd_link_config_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Link configuration&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_config_link_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_config_link_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_config_config_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_config_ip,</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_config_depth,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * link up</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_link_up_result {</div>
<div class="line">    cmdline_fixed_string_t link_string;</div>
<div class="line">    uint32_t link_id;</div>
<div class="line">    cmdline_fixed_string_t up_string;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_link_up_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    __attribute__((unused)) <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_link_up_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    status = app_link_up(app, params-&gt;link_id);</div>
<div class="line">    <span class="keywordflow">if</span> (status != 0)</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">struct </span>app_link_params *p;</div>
<div class="line"></div>
<div class="line">        APP_PARAM_FIND_BY_ID(app-&gt;link_params, <span class="stringliteral">&quot;LINK&quot;</span>, params-&gt;link_id,</div>
<div class="line">            p);</div>
<div class="line">        print_link_info(p);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_link_up_link_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_link_up_result, link_string,</div>
<div class="line">        <span class="stringliteral">&quot;link&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_link_up_link_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_link_up_result, link_id, UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_link_up_up_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_link_up_result, up_string, <span class="stringliteral">&quot;up&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_link_up = {</div>
<div class="line">    .f = cmd_link_up_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Link UP&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_up_link_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_up_link_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_up_up_string,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * link down</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_link_down_result {</div>
<div class="line">    cmdline_fixed_string_t link_string;</div>
<div class="line">    uint32_t link_id;</div>
<div class="line">    cmdline_fixed_string_t down_string;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_link_down_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    __attribute__((unused)) <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_link_down_result *params = parsed_result;</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    status = app_link_down(app, params-&gt;link_id);</div>
<div class="line">    <span class="keywordflow">if</span> (status != 0)</div>
<div class="line">        printf(<span class="stringliteral">&quot;Command failed\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">struct </span>app_link_params *p;</div>
<div class="line"></div>
<div class="line">        APP_PARAM_FIND_BY_ID(app-&gt;link_params, <span class="stringliteral">&quot;LINK&quot;</span>, params-&gt;link_id,</div>
<div class="line">            p);</div>
<div class="line">        print_link_info(p);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_link_down_link_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_link_down_result, link_string,</div>
<div class="line">        <span class="stringliteral">&quot;link&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_num_t cmd_link_down_link_id =</div>
<div class="line">    TOKEN_NUM_INITIALIZER(<span class="keyword">struct</span> cmd_link_down_result, link_id, UINT32);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_link_down_down_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_link_down_result, down_string,</div>
<div class="line">        <span class="stringliteral">&quot;down&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_link_down = {</div>
<div class="line">    .f = cmd_link_down_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Link DOWN&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_link_down_link_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_link_down_link_id,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_link_down_down_string,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * link ls</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_link_ls_result {</div>
<div class="line">    cmdline_fixed_string_t link_string;</div>
<div class="line">    cmdline_fixed_string_t ls_string;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_link_ls_parsed(</div>
<div class="line">    __attribute__((unused)) <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    __attribute__((unused)) <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">     <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_params *app = data;</div>
<div class="line">    uint32_t link_id;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (link_id = 0; link_id &lt; app-&gt;n_links; link_id++) {</div>
<div class="line">        <span class="keyword">struct </span>app_link_params *p;</div>
<div class="line"></div>
<div class="line">        APP_PARAM_FIND_BY_ID(app-&gt;link_params, <span class="stringliteral">&quot;LINK&quot;</span>, link_id, p);</div>
<div class="line">        print_link_info(p);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_link_ls_link_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_link_ls_result, link_string,</div>
<div class="line">        <span class="stringliteral">&quot;link&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_link_ls_ls_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_link_ls_result, ls_string, <span class="stringliteral">&quot;ls&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_link_ls = {</div>
<div class="line">    .f = cmd_link_ls_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Link list&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_ls_link_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *)&amp;cmd_link_ls_ls_string,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * quit</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_quit_result {</div>
<div class="line">    cmdline_fixed_string_t quit;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_quit_parsed(</div>
<div class="line">    <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a> <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    <a class="code" href="rte__common_8h.html#ae1a7c8799cb57669ae2ddf367b21533f">__rte_unused</a> <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    cmdline_quit(cl);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> cmdline_parse_token_string_t cmd_quit_quit =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_quit_result, quit, <span class="stringliteral">&quot;quit&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> cmdline_parse_inst_t cmd_quit = {</div>
<div class="line">    .f = cmd_quit_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Quit&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_quit_quit,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * run</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">app_run_file(</div>
<div class="line">    cmdline_parse_ctx_t *ctx,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *file_name)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmdline *file_cl;</div>
<div class="line">    <span class="keywordtype">int</span> fd;</div>
<div class="line"></div>
<div class="line">    fd = open(file_name, O_RDONLY);</div>
<div class="line">    <span class="keywordflow">if</span> (fd &lt; 0) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Cannot open file \&quot;%s\&quot;\n&quot;</span>, file_name);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    file_cl = cmdline_new(ctx, <span class="stringliteral">&quot;&quot;</span>, fd, 1);</div>
<div class="line">    cmdline_interact(file_cl);</div>
<div class="line">    close(fd);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>cmd_run_file_result {</div>
<div class="line">    cmdline_fixed_string_t run_string;</div>
<div class="line">    <span class="keywordtype">char</span> file_name[APP_FILE_NAME_SIZE];</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">cmd_run_parsed(</div>
<div class="line">    <span class="keywordtype">void</span> *parsed_result,</div>
<div class="line">    <span class="keyword">struct</span> cmdline *cl,</div>
<div class="line">    __attribute__((unused)) <span class="keywordtype">void</span> *data)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>cmd_run_file_result *params = parsed_result;</div>
<div class="line"></div>
<div class="line">    app_run_file(cl-&gt;ctx, params-&gt;file_name);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_run_run_string =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_run_file_result, run_string,</div>
<div class="line">        <span class="stringliteral">&quot;run&quot;</span>);</div>
<div class="line"></div>
<div class="line">cmdline_parse_token_string_t cmd_run_file_name =</div>
<div class="line">    TOKEN_STRING_INITIALIZER(<span class="keyword">struct</span> cmd_run_file_result, file_name, NULL);</div>
<div class="line"></div>
<div class="line">cmdline_parse_inst_t cmd_run = {</div>
<div class="line">    .f = cmd_run_parsed,</div>
<div class="line">    .data = NULL,</div>
<div class="line">    .help_str = <span class="stringliteral">&quot;Run CLI script file&quot;</span>,</div>
<div class="line">    .tokens = {</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_run_run_string,</div>
<div class="line">        (<span class="keywordtype">void</span> *) &amp;cmd_run_file_name,</div>
<div class="line">        NULL,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> cmdline_parse_ctx_t pipeline_common_cmds[] = {</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_quit,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_run,</div>
<div class="line"></div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_link_config,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_link_up,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_link_down,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_link_ls,</div>
<div class="line"></div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_ping,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_stats_port_in,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_stats_port_out,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_stats_table,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_port_in_enable,</div>
<div class="line">    (cmdline_parse_inst_t *) &amp;cmd_port_in_disable,</div>
<div class="line">    NULL,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_pipeline_common_cmd_push(<span class="keyword">struct</span> app_params *app)</div>
<div class="line">{</div>
<div class="line">    uint32_t n_cmds, i;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check for available slots in the application commands array */</span></div>
<div class="line">    n_cmds = <a name="a18"></a><a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(pipeline_common_cmds) - 1;</div>
<div class="line">    <span class="keywordflow">if</span> (n_cmds &gt; APP_MAX_CMDS - app-&gt;n_cmds)</div>
<div class="line">        <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Push pipeline commands into the application */</span></div>
<div class="line">    memcpy(&amp;app-&gt;cmds[app-&gt;n_cmds],</div>
<div class="line">        pipeline_common_cmds,</div>
<div class="line">        n_cmds * <span class="keyword">sizeof</span>(cmdline_parse_ctx_t));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_cmds; i++)</div>
<div class="line">        app-&gt;cmds[app-&gt;n_cmds + i]-&gt;data = app;</div>
<div class="line"></div>
<div class="line">    app-&gt;n_cmds += n_cmds;</div>
<div class="line">    app-&gt;cmds[app-&gt;n_cmds] = NULL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
