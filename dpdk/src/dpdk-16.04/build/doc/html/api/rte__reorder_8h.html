<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DPDK: lib/librte_reorder/rte_reorder.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">16.04.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_2874bf55c2200dd42774d2ba99074e53.html">librte_reorder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_reorder.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="rte__reorder_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aca8a6115a2fa4269b64989945471381c"><td class="memItemLeft" align="right" valign="top">struct rte_reorder_buffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__reorder_8h.html#aca8a6115a2fa4269b64989945471381c">rte_reorder_create</a> (const char *name, unsigned socket_id, unsigned int size)</td></tr>
<tr class="separator:aca8a6115a2fa4269b64989945471381c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3004d054d20a89a99f147a5b2057a8ca"><td class="memItemLeft" align="right" valign="top">struct rte_reorder_buffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__reorder_8h.html#a3004d054d20a89a99f147a5b2057a8ca">rte_reorder_init</a> (struct rte_reorder_buffer *b, unsigned int bufsize, const char *name, unsigned int size)</td></tr>
<tr class="separator:a3004d054d20a89a99f147a5b2057a8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4b971b3c60117dcb0e889bde97202b"><td class="memItemLeft" align="right" valign="top">struct rte_reorder_buffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__reorder_8h.html#afc4b971b3c60117dcb0e889bde97202b">rte_reorder_find_existing</a> (const char *name)</td></tr>
<tr class="separator:afc4b971b3c60117dcb0e889bde97202b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae36e2b34e1b97ac0660d20a0aaca1350"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__reorder_8h.html#ae36e2b34e1b97ac0660d20a0aaca1350">rte_reorder_reset</a> (struct rte_reorder_buffer *b)</td></tr>
<tr class="separator:ae36e2b34e1b97ac0660d20a0aaca1350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435e01107f2e5f0cca205a7ecfe02e00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__reorder_8h.html#a435e01107f2e5f0cca205a7ecfe02e00">rte_reorder_free</a> (struct rte_reorder_buffer *b)</td></tr>
<tr class="separator:a435e01107f2e5f0cca205a7ecfe02e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0965ec1fdb3d68e4ecf48cd8733994bb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__reorder_8h.html#a0965ec1fdb3d68e4ecf48cd8733994bb">rte_reorder_insert</a> (struct rte_reorder_buffer *b, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *mbuf)</td></tr>
<tr class="separator:a0965ec1fdb3d68e4ecf48cd8733994bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223ad7c610c1ee0180fda4088a963dea"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__reorder_8h.html#a223ad7c610c1ee0180fda4088a963dea">rte_reorder_drain</a> (struct rte_reorder_buffer *b, struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **mbufs, unsigned max_mbufs)</td></tr>
<tr class="separator:a223ad7c610c1ee0180fda4088a963dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE reorder</p>
<p>Reorder library is a component which is designed to provide ordering of out of ordered packets based on sequence number present in mbuf. </p>

<p>Definition in file <a class="el" href="rte__reorder_8h_source.html">rte_reorder.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aca8a6115a2fa4269b64989945471381c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rte_reorder_buffer* rte_reorder_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>socket_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new reorder buffer instance</p>
<p>Allocate memory and initialize a new reorder buffer in that memory, returning the reorder buffer pointer to the user</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name to be given to the reorder buffer instance. </td></tr>
    <tr><td class="paramname">socket_id</td><td>The NUMA node on which the memory for the reorder buffer instance is to be reserved. </td></tr>
    <tr><td class="paramname">size</td><td>Max number of elements that can be stored in the reorder buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The initialized reorder buffer instance, or NULL on error On error case, rte_errno will be set appropriately:<ul>
<li>ENOMEM - no appropriate memory area found in which to create memzone</li>
<li>EINVAL - invalid parameters </li>
</ul>
</dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="packet_ordering_2main_8c-example.html#a46">packet_ordering/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a3004d054d20a89a99f147a5b2057a8ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rte_reorder_buffer* rte_reorder_init </td>
          <td>(</td>
          <td class="paramtype">struct rte_reorder_buffer *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bufsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes given reorder buffer instance</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>Reorder buffer instance to initialize </td></tr>
    <tr><td class="paramname">bufsize</td><td>Size of the reorder buffer </td></tr>
    <tr><td class="paramname">name</td><td>The name to be given to the reorder buffer </td></tr>
    <tr><td class="paramname">size</td><td>Number of elements that can be stored in reorder buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The initialized reorder buffer instance, or NULL on error On error case, rte_errno will be set appropriately:<ul>
<li>EINVAL - invalid parameters </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="afc4b971b3c60117dcb0e889bde97202b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rte_reorder_buffer* rte_reorder_find_existing </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find an existing reorder buffer instance and return a pointer to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the reorder buffer instacne as passed to <a class="el" href="rte__reorder_8h.html#aca8a6115a2fa4269b64989945471381c">rte_reorder_create()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to reorder buffer instance or NULL if object not found with rte_errno set appropriately. Possible rte_errno values include:<ul>
<li>ENOENT - required entry not available to return. reorder instance list </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ae36e2b34e1b97ac0660d20a0aaca1350"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_reorder_reset </td>
          <td>(</td>
          <td class="paramtype">struct rte_reorder_buffer *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset the given reorder buffer instance with initial values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>Reorder buffer instance which has to be reset </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a435e01107f2e5f0cca205a7ecfe02e00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rte_reorder_free </td>
          <td>(</td>
          <td class="paramtype">struct rte_reorder_buffer *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free reorder buffer instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>reorder buffer instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="a0965ec1fdb3d68e4ecf48cd8733994bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_reorder_insert </td>
          <td>(</td>
          <td class="paramtype">struct rte_reorder_buffer *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> *&#160;</td>
          <td class="paramname"><em>mbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Insert given mbuf in reorder buffer in its correct position</p>
<p>The given mbuf is to be reordered relative to other mbufs in the system. The mbuf must contain a sequence number which is then used to place the buffer in the correct position in the reorder buffer. Reordered packets can later be taken from the buffer using the <a class="el" href="rte__reorder_8h.html#a223ad7c610c1ee0180fda4088a963dea">rte_reorder_drain()</a> API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>Reorder buffer where the mbuf has to be inserted. </td></tr>
    <tr><td class="paramname">mbuf</td><td>mbuf of packet that needs to be inserted in reorder buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success -1 on error On error case, rte_errno will be set appropriately:<ul>
<li>ENOSPC - Cannot move existing mbufs from reorder buffer to accommodate ealry mbuf, but it can be accomodated by performing drain and then insert.</li>
<li>ERANGE - Too early or late mbuf which is vastly out of range of expected window should be ingnored without any handling. </li>
</ul>
</dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="packet_ordering_2main_8c-example.html#a32">packet_ordering/main.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a223ad7c610c1ee0180fda4088a963dea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int rte_reorder_drain </td>
          <td>(</td>
          <td class="paramtype">struct rte_reorder_buffer *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structrte__mbuf.html">rte_mbuf</a> **&#160;</td>
          <td class="paramname"><em>mbufs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>max_mbufs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetch reordered buffers</p>
<p>Returns a set of in-order buffers from the reorder buffer structure. Gaps may be present in the sequence numbers of the mbuf if packets have been delayed too long before reaching the reorder window, or have been previously dropped by the system.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>Reorder buffer instance from which packets are to be drained </td></tr>
    <tr><td class="paramname">mbufs</td><td>array of mbufs where reordered packets will be inserted from reorder buffer </td></tr>
    <tr><td class="paramname">max_mbufs</td><td>the number of elements in the mbufs array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of mbuf pointers written to mbufs. 0 &lt;= N &lt; max_mbufs. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="packet_ordering_2main_8c-example.html#a36">packet_ordering/main.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
