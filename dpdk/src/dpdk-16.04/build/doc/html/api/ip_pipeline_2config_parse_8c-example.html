<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DPDK: ip_pipeline/config_parse.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">16.04.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ip_pipeline/config_parse.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/*-</span></div>
<div class="line"><span class="comment"> *   BSD LICENSE</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   Copyright(c) 2010-2016 Intel Corporation. All rights reserved.</span></div>
<div class="line"><span class="comment"> *   All rights reserved.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><span class="comment"> *   modification, are permitted provided that the following conditions</span></div>
<div class="line"><span class="comment"> *   are met:</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *     * Redistributions of source code must retain the above copyright</span></div>
<div class="line"><span class="comment"> *       notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><span class="comment"> *     * Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><span class="comment"> *       notice, this list of conditions and the following disclaimer in</span></div>
<div class="line"><span class="comment"> *       the documentation and/or other materials provided with the</span></div>
<div class="line"><span class="comment"> *       distribution.</span></div>
<div class="line"><span class="comment"> *     * Neither the name of Intel Corporation nor the names of its</span></div>
<div class="line"><span class="comment"> *       contributors may be used to endorse or promote products derived</span></div>
<div class="line"><span class="comment"> *       from this software without specific prior written permission.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><span class="comment"> *   &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><span class="comment"> *   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span></div>
<div class="line"><span class="comment"> *   A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span></div>
<div class="line"><span class="comment"> *   OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span></div>
<div class="line"><span class="comment"> *   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span></div>
<div class="line"><span class="comment"> *   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span></div>
<div class="line"><span class="comment"> *   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span></div>
<div class="line"><span class="comment"> *   THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span></div>
<div class="line"><span class="comment"> *   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><span class="comment"> *   OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;libgen.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/wait.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__errno_8h.html">rte_errno.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__cfgfile_8h.html">rte_cfgfile.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rte__string__fns_8h.html">rte_string_fns.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &quot;app.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;parser.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>app_params app_params_default = {</div>
<div class="line">    .config_file = <span class="stringliteral">&quot;./config/ip_pipeline.cfg&quot;</span>,</div>
<div class="line">    .log_level = APP_LOG_LEVEL_HIGH,</div>
<div class="line">    .port_mask = 0,</div>
<div class="line"></div>
<div class="line">    .eal_params = {</div>
<div class="line">        .channels = 4,</div>
<div class="line">    },</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>app_mempool_params mempool_params_default = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .buffer_size = 2048 + <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a name="_a0"></a><a class="code" href="structrte__mbuf.html">rte_mbuf</a>) + RTE_PKTMBUF_HEADROOM,</div>
<div class="line">    .pool_size = 32 * 1024,</div>
<div class="line">    .cache_size = 256,</div>
<div class="line">    .cpu_socket_id = 0,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>app_link_params link_params_default = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .pmd_id = 0,</div>
<div class="line">    .arp_q = 0,</div>
<div class="line">    .tcp_syn_q = 0,</div>
<div class="line">    .ip_local_q = 0,</div>
<div class="line">    .tcp_local_q = 0,</div>
<div class="line">    .udp_local_q = 0,</div>
<div class="line">    .sctp_local_q = 0,</div>
<div class="line">    .state = 0,</div>
<div class="line">    .ip = 0,</div>
<div class="line">    .depth = 0,</div>
<div class="line">    .mac_addr = 0,</div>
<div class="line">    .pci_bdf = {0},</div>
<div class="line"></div>
<div class="line">    .conf = {</div>
<div class="line">        .link_speeds = 0,</div>
<div class="line">        .rxmode = {</div>
<div class="line">            .mq_mode = <a name="a1"></a><a class="code" href="rte__ethdev_8h.html#a586b8e86131b4ec0ccaf464e847ccf3ea4600ff07419327deb9b8534bc66daf19">ETH_MQ_RX_NONE</a>,</div>
<div class="line"></div>
<div class="line">            .header_split   = 0, <span class="comment">/* Header split */</span></div>
<div class="line">            .hw_ip_checksum = 0, <span class="comment">/* IP checksum offload */</span></div>
<div class="line">            .hw_vlan_filter = 0, <span class="comment">/* VLAN filtering */</span></div>
<div class="line">            .hw_vlan_strip  = 0, <span class="comment">/* VLAN strip */</span></div>
<div class="line">            .hw_vlan_extend = 0, <span class="comment">/* Extended VLAN */</span></div>
<div class="line">            .jumbo_frame    = 0, <span class="comment">/* Jumbo frame support */</span></div>
<div class="line">            .hw_strip_crc   = 0, <span class="comment">/* CRC strip by HW */</span></div>
<div class="line">            .enable_scatter = 0, <span class="comment">/* Scattered packets RX handler */</span></div>
<div class="line"></div>
<div class="line">            .max_rx_pkt_len = 9000, <span class="comment">/* Jumbo frame max packet len */</span></div>
<div class="line">            .split_hdr_size = 0, <span class="comment">/* Header split buffer size */</span></div>
<div class="line">        },</div>
<div class="line">        .txmode = {</div>
<div class="line">            .mq_mode = <a name="a2"></a><a class="code" href="rte__ethdev_8h.html#a4834f572f4dd4e46d81ad09b7d5fffd5aada568551470d5f419cd2f3d6b6bfedc">ETH_MQ_TX_NONE</a>,</div>
<div class="line">        },</div>
<div class="line">        .lpbk_mode = 0,</div>
<div class="line">    },</div>
<div class="line"></div>
<div class="line">    .promisc = 1,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>app_pktq_hwq_in_params default_hwq_in_params = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .mempool_id = 0,</div>
<div class="line">    .size = 128,</div>
<div class="line">    .burst = 32,</div>
<div class="line"></div>
<div class="line">    .conf = {</div>
<div class="line">        .rx_thresh = {</div>
<div class="line">                .pthresh = 8,</div>
<div class="line">                .hthresh = 8,</div>
<div class="line">                .wthresh = 4,</div>
<div class="line">        },</div>
<div class="line">        .rx_free_thresh = 64,</div>
<div class="line">        .rx_drop_en = 0,</div>
<div class="line">        .rx_deferred_start = 0,</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>app_pktq_hwq_out_params default_hwq_out_params = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .size = 512,</div>
<div class="line">    .burst = 32,</div>
<div class="line">    .dropless = 0,</div>
<div class="line">    .n_retries = 0,</div>
<div class="line"></div>
<div class="line">    .conf = {</div>
<div class="line">        .tx_thresh = {</div>
<div class="line">            .pthresh = 36,</div>
<div class="line">            .hthresh = 0,</div>
<div class="line">            .wthresh = 0,</div>
<div class="line">        },</div>
<div class="line">        .tx_rs_thresh = 0,</div>
<div class="line">        .tx_free_thresh = 0,</div>
<div class="line">        .txq_flags = <a name="a3"></a><a class="code" href="rte__ethdev_8h.html#a4902a1d01782ecc690203f9e9df25ee9">ETH_TXQ_FLAGS_NOMULTSEGS</a> |</div>
<div class="line">            ETH_TXQ_FLAGS_NOOFFLOADS,</div>
<div class="line">        .tx_deferred_start = 0,</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>app_pktq_swq_params default_swq_params = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .size = 256,</div>
<div class="line">    .burst_read = 32,</div>
<div class="line">    .burst_write = 32,</div>
<div class="line">    .dropless = 0,</div>
<div class="line">    .n_retries = 0,</div>
<div class="line">    .cpu_socket_id = 0,</div>
<div class="line">    .ipv4_frag = 0,</div>
<div class="line">    .ipv6_frag = 0,</div>
<div class="line">    .ipv4_ras = 0,</div>
<div class="line">    .ipv6_ras = 0,</div>
<div class="line">    .mtu = 0,</div>
<div class="line">    .metadata_size = 0,</div>
<div class="line">    .mempool_direct_id = 0,</div>
<div class="line">    .mempool_indirect_id = 0,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>app_pktq_tm_params default_tm_params = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .file_name = <span class="stringliteral">&quot;./config/tm_profile.cfg&quot;</span>,</div>
<div class="line">    .burst_read = 64,</div>
<div class="line">    .burst_write = 32,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>app_pktq_source_params default_source_params = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .mempool_id = 0,</div>
<div class="line">    .burst = 32,</div>
<div class="line">    .file_name = NULL,</div>
<div class="line">    .n_bytes_per_pkt = 0,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>app_pktq_sink_params default_sink_params = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .file_name = NULL,</div>
<div class="line">    .n_pkts_to_dump = 0,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>app_msgq_params default_msgq_params = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .size = 64,</div>
<div class="line">    .cpu_socket_id = 0,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>app_pipeline_params default_pipeline_params = {</div>
<div class="line">    .parsed = 0,</div>
<div class="line">    .socket_id = 0,</div>
<div class="line">    .core_id = 0,</div>
<div class="line">    .hyper_th_id = 0,</div>
<div class="line">    .n_pktq_in = 0,</div>
<div class="line">    .n_pktq_out = 0,</div>
<div class="line">    .n_msgq_in = 0,</div>
<div class="line">    .n_msgq_out = 0,</div>
<div class="line">    .timer_period = 1,</div>
<div class="line">    .n_args = 0,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> app_usage[] =</div>
<div class="line">    <span class="stringliteral">&quot;Usage: %s [-f CONFIG_FILE] [-s SCRIPT_FILE] [-p PORT_MASK] &quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;[-l LOG_LEVEL] [--preproc PREPROCESSOR] [--preproc-args ARGS]\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;Arguments:\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\t-f CONFIG_FILE: Default config file is %s\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\t-p PORT_MASK: Mask of NIC port IDs in hex format (generated from &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;config file when not provided)\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\t-s SCRIPT_FILE: No CLI script file is run when not specified\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\t-l LOG_LEVEL: 0 = NONE, 1 = HIGH PRIO (default), 2 = LOW PRIO\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\t--preproc PREPROCESSOR: Configuration file pre-processor\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\t--preproc-args ARGS: Arguments to be passed to pre-processor\n&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">app_print_usage(<span class="keywordtype">char</span> *prgname)</div>
<div class="line">{</div>
<div class="line">    <a name="a4"></a><a class="code" href="rte__common_8h.html#ae2e5522e2b4921a751675e4a4d167fb4">rte_exit</a>(0, app_usage, prgname, app_params_default.config_file);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define skip_white_spaces(pos)          \</span></div>
<div class="line"><span class="preprocessor">({                      \</span></div>
<div class="line"><span class="preprocessor">    __typeof__(pos) _p = (pos);     \</span></div>
<div class="line"><span class="preprocessor">    for ( ; isspace(*_p); _p++);        \</span></div>
<div class="line"><span class="preprocessor">    _p;                 \</span></div>
<div class="line"><span class="preprocessor">})</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define PARSER_PARAM_ADD_CHECK(result, params_array, section_name)  \</span></div>
<div class="line"><span class="preprocessor">do {                                    \</span></div>
<div class="line"><span class="preprocessor">    APP_CHECK((result != -EINVAL),                  \</span></div>
<div class="line"><span class="preprocessor">        &quot;Parse error: no free memory&quot;);             \</span></div>
<div class="line"><span class="preprocessor">    APP_CHECK((result != -ENOMEM),                  \</span></div>
<div class="line"><span class="preprocessor">        &quot;Parse error: too many \&quot;%s\&quot; sections&quot;, section_name); \</span></div>
<div class="line"><span class="preprocessor">    APP_CHECK(((result &gt;= 0) &amp;&amp; (params_array)[result].parsed == 0),\</span></div>
<div class="line"><span class="preprocessor">        &quot;Parse error: duplicate \&quot;%s\&quot; section&quot;, section_name); \</span></div>
<div class="line"><span class="preprocessor">    APP_CHECK((result &gt;= 0),                    \</span></div>
<div class="line"><span class="preprocessor">        &quot;Parse error in section \&quot;%s\&quot;&quot;, section_name);     \</span></div>
<div class="line"><span class="preprocessor">} while (0)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">parser_read_arg_bool(<span class="keyword">const</span> <span class="keywordtype">char</span> *p)</div>
<div class="line">{</div>
<div class="line">    p = skip_white_spaces(p);</div>
<div class="line">    <span class="keywordtype">int</span> result = -EINVAL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (((p[0] == <span class="charliteral">&#39;y&#39;</span>) &amp;&amp; (p[1] == <span class="charliteral">&#39;e&#39;</span>) &amp;&amp; (p[2] == <span class="charliteral">&#39;s&#39;</span>)) ||</div>
<div class="line">        ((p[0] == <span class="charliteral">&#39;Y&#39;</span>) &amp;&amp; (p[1] == <span class="charliteral">&#39;E&#39;</span>) &amp;&amp; (p[2] == <span class="charliteral">&#39;S&#39;</span>))) {</div>
<div class="line">        p += 3;</div>
<div class="line">        result = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (((p[0] == <span class="charliteral">&#39;o&#39;</span>) &amp;&amp; (p[1] == <span class="charliteral">&#39;n&#39;</span>)) ||</div>
<div class="line">        ((p[0] == <span class="charliteral">&#39;O&#39;</span>) &amp;&amp; (p[1] == <span class="charliteral">&#39;N&#39;</span>))) {</div>
<div class="line">        p += 2;</div>
<div class="line">        result = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (((p[0] == <span class="charliteral">&#39;n&#39;</span>) &amp;&amp; (p[1] == <span class="charliteral">&#39;o&#39;</span>)) ||</div>
<div class="line">        ((p[0] == <span class="charliteral">&#39;N&#39;</span>) &amp;&amp; (p[1] == <span class="charliteral">&#39;O&#39;</span>))) {</div>
<div class="line">        p += 2;</div>
<div class="line">        result = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (((p[0] == <span class="charliteral">&#39;o&#39;</span>) &amp;&amp; (p[1] == <span class="charliteral">&#39;f&#39;</span>) &amp;&amp; (p[2] == <span class="charliteral">&#39;f&#39;</span>)) ||</div>
<div class="line">        ((p[0] == <span class="charliteral">&#39;O&#39;</span>) &amp;&amp; (p[1] == <span class="charliteral">&#39;F&#39;</span>) &amp;&amp; (p[2] == <span class="charliteral">&#39;F&#39;</span>))) {</div>
<div class="line">        p += 3;</div>
<div class="line">        result = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    p = skip_white_spaces(p);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p[0] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define PARSE_ERROR(exp, section, entry)                \</span></div>
<div class="line"><span class="preprocessor">APP_CHECK(exp, &quot;Parse error in section \&quot;%s\&quot;: entry \&quot;%s\&quot;\n&quot;, section, entry)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define PARSE_ERROR_MESSAGE(exp, section, entry, message)       \</span></div>
<div class="line"><span class="preprocessor">APP_CHECK(exp, &quot;Parse error in section \&quot;%s\&quot;, entry \&quot;%s\&quot;: %s\n&quot;, \</span></div>
<div class="line"><span class="preprocessor">    section, entry, message)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define PARSE_ERROR_MALLOC(exp)                     \</span></div>
<div class="line"><span class="preprocessor">APP_CHECK(exp, &quot;Parse error: no free memory\n&quot;)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define PARSE_ERROR_SECTION(exp, section)               \</span></div>
<div class="line"><span class="preprocessor">APP_CHECK(exp, &quot;Parse error in section \&quot;%s\&quot;&quot;, section)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define PARSE_ERROR_SECTION_NO_ENTRIES(exp, section)            \</span></div>
<div class="line"><span class="preprocessor">APP_CHECK(exp, &quot;Parse error in section \&quot;%s\&quot;: no entries\n&quot;, section)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define PARSE_WARNING_IGNORED(exp, section, entry)          \</span></div>
<div class="line"><span class="preprocessor">do                                  \</span></div>
<div class="line"><span class="preprocessor">if (!(exp))                             \</span></div>
<div class="line"><span class="preprocessor">    fprintf(stderr, &quot;Parse warning in section \&quot;%s\&quot;: &quot;     \</span></div>
<div class="line"><span class="preprocessor">        &quot;entry \&quot;%s\&quot; is ignored\n&quot;, section, entry);       \</span></div>
<div class="line"><span class="preprocessor">while (0)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define PARSE_ERROR_INVALID(exp, section, entry)            \</span></div>
<div class="line"><span class="preprocessor">APP_CHECK(exp, &quot;Parse error in section \&quot;%s\&quot;: unrecognized entry \&quot;%s\&quot;\n&quot;,\</span></div>
<div class="line"><span class="preprocessor">    section, entry)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define PARSE_ERROR_DUPLICATE(exp, section, entry)          \</span></div>
<div class="line"><span class="preprocessor">APP_CHECK(exp, &quot;Parse error in section \&quot;%s\&quot;: duplicate entry \&quot;%s\&quot;\n&quot;,\</span></div>
<div class="line"><span class="preprocessor">    section, entry)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">parser_read_uint64(uint64_t *value, <span class="keyword">const</span> <span class="keywordtype">char</span> *p)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *next;</div>
<div class="line">    uint64_t val;</div>
<div class="line"></div>
<div class="line">    p = skip_white_spaces(p);</div>
<div class="line">    <span class="keywordflow">if</span> (!isdigit(*p))</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">    val = strtoul(p, &amp;next, 10);</div>
<div class="line">    <span class="keywordflow">if</span> (p == next)</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">    p = next;</div>
<div class="line">    <span class="keywordflow">switch</span> (*p) {</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div>
<div class="line">        val *= 1024ULL;</div>
<div class="line">        <span class="comment">/* fall through */</span></div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>:</div>
<div class="line">        val *= 1024ULL;</div>
<div class="line">        <span class="comment">/* fall through */</span></div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:</div>
<div class="line">        val *= 1024ULL;</div>
<div class="line">        <span class="comment">/* fall through */</span></div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;k&#39;</span>:</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>:</div>
<div class="line">        val *= 1024ULL;</div>
<div class="line">        p++;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    p = skip_white_spaces(p);</div>
<div class="line">    <span class="keywordflow">if</span> (*p != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">    *value = val;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">parser_read_uint32(uint32_t *value, <span class="keyword">const</span> <span class="keywordtype">char</span> *p)</div>
<div class="line">{</div>
<div class="line">    uint64_t val = 0;</div>
<div class="line">    <span class="keywordtype">int</span> ret = parser_read_uint64(&amp;val, p);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (ret &lt; 0)</div>
<div class="line">        <span class="keywordflow">return</span> ret;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (val &gt; UINT32_MAX)</div>
<div class="line">        <span class="keywordflow">return</span> -ERANGE;</div>
<div class="line"></div>
<div class="line">    *value = val;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">parse_pipeline_core(uint32_t *socket,</div>
<div class="line">    uint32_t *core,</div>
<div class="line">    uint32_t *ht,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *entry)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> num_len;</div>
<div class="line">    <span class="keywordtype">char</span> num[8];</div>
<div class="line"></div>
<div class="line">    uint32_t s = 0, c = 0, h = 0, val;</div>
<div class="line">    uint8_t s_parsed = 0, c_parsed = 0, h_parsed = 0;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *next = skip_white_spaces(entry);</div>
<div class="line">    <span class="keywordtype">char</span> type;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Expect &lt;CORE&gt; or [sX][cY][h]. At least one parameter is required. */</span></div>
<div class="line">    <span class="keywordflow">while</span> (*next != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">        <span class="comment">/* If everything parsed nothing should left */</span></div>
<div class="line">        <span class="keywordflow">if</span> (s_parsed &amp;&amp; c_parsed &amp;&amp; h_parsed)</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        type = *next;</div>
<div class="line">        <span class="keywordflow">switch</span> (type) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (s_parsed || c_parsed || h_parsed)</div>
<div class="line">                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">            s_parsed = 1;</div>
<div class="line">            next++;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (c_parsed || h_parsed)</div>
<div class="line">                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">            c_parsed = 1;</div>
<div class="line">            next++;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (h_parsed)</div>
<div class="line">                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">            h_parsed = 1;</div>
<div class="line">            next++;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            <span class="comment">/* If it start from digit it must be only core id. */</span></div>
<div class="line">            <span class="keywordflow">if</span> (!isdigit(*next) || s_parsed || c_parsed || h_parsed)</div>
<div class="line">                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">            type = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> (num_len = 0; *next != <span class="charliteral">&#39;\0&#39;</span>; next++, num_len++) {</div>
<div class="line">            <span class="keywordflow">if</span> (num_len == <a name="a5"></a><a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(num))</div>
<div class="line">                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (!isdigit(*next))</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">            num[num_len] = *next;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (num_len == 0 &amp;&amp; type != <span class="charliteral">&#39;h&#39;</span> &amp;&amp; type != <span class="charliteral">&#39;H&#39;</span>)</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (num_len != 0 &amp;&amp; (type == <span class="charliteral">&#39;h&#39;</span> || type == <span class="charliteral">&#39;H&#39;</span>))</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        num[num_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">        val = strtol(num, NULL, 10);</div>
<div class="line"></div>
<div class="line">        h = 0;</div>
<div class="line">        <span class="keywordflow">switch</span> (type) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:</div>
<div class="line">            s = val;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div>
<div class="line">            c = val;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:</div>
<div class="line">            h = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    *socket = s;</div>
<div class="line">    *core = c;</div>
<div class="line">    *ht = h;</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> uint32_t</div>
<div class="line">get_hex_val(<span class="keywordtype">char</span> c)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">switch</span> (c) {</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>:</div>
<div class="line">        <span class="keywordflow">return</span> c - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>:</div>
<div class="line">        <span class="keywordflow">return</span> c - <span class="charliteral">&#39;A&#39;</span> + 10;</div>
<div class="line">    <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div>
<div class="line">        <span class="keywordflow">return</span> c - <span class="charliteral">&#39;a&#39;</span> + 10;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">parse_hex_string(<span class="keywordtype">char</span> *src, uint8_t *dst, uint32_t *size)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *c;</div>
<div class="line">    uint32_t len, i;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check input parameters */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((src == NULL) ||</div>
<div class="line">        (dst == NULL) ||</div>
<div class="line">        (size == NULL) ||</div>
<div class="line">        (*size == 0))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    len = strlen(src);</div>
<div class="line">    <span class="keywordflow">if</span> (((len &amp; 3) != 0) ||</div>
<div class="line">        (len &gt; (*size) * 2))</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    *size = len / 2;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (c = src; *c != 0; c++) {</div>
<div class="line">        <span class="keywordflow">if</span> ((((*c) &gt;= <span class="charliteral">&#39;0&#39;</span>) &amp;&amp; ((*c) &lt;= <span class="charliteral">&#39;9&#39;</span>)) ||</div>
<div class="line">            (((*c) &gt;= <span class="charliteral">&#39;A&#39;</span>) &amp;&amp; ((*c) &lt;= <span class="charliteral">&#39;F&#39;</span>)) ||</div>
<div class="line">            (((*c) &gt;= <span class="charliteral">&#39;a&#39;</span>) &amp;&amp; ((*c) &lt;= <span class="charliteral">&#39;f&#39;</span>)))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Convert chars to bytes */</span></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; *size; i++)</div>
<div class="line">        dst[i] = get_hex_val(src[2 * i]) * 16 +</div>
<div class="line">            get_hex_val(src[2 * i + 1]);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">size_t</span></div>
<div class="line">skip_digits(<span class="keyword">const</span> <span class="keywordtype">char</span> *src)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> i;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; isdigit(src[i]); i++);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> i;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">validate_name(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix, <span class="keywordtype">int</span> num)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> i, j;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; (name[i] != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (prefix[i] != <span class="charliteral">&#39;\0&#39;</span>); i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (name[i] != prefix[i])</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (prefix[i] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!num) {</div>
<div class="line">        <span class="keywordflow">if</span> (name[i] != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (num == 2) {</div>
<div class="line">        j = skip_digits(&amp;name[i]);</div>
<div class="line">        i += j;</div>
<div class="line">        <span class="keywordflow">if</span> ((j == 0) || (name[i] != <span class="charliteral">&#39;.&#39;</span>))</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        i++;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (num == 1) {</div>
<div class="line">        j = skip_digits(&amp;name[i]);</div>
<div class="line">        i += j;</div>
<div class="line">        <span class="keywordflow">if</span> ((j == 0) || (name[i] != <span class="charliteral">&#39;\0&#39;</span>))</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_eal(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_eal_params *p = &amp;app-&gt;eal_params;</div>
<div class="line">    <span class="keyword">struct </span><a name="_a6"></a><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line"></div>
<div class="line">    n_entries = <a name="a7"></a><a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a name="a8"></a><a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entry = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* coremask */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a name="a9"></a><a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;c&quot;</span>) == 0) {</div>
<div class="line">            PARSE_WARNING_IGNORED(0, section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* corelist */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;l&quot;</span>) == 0) {</div>
<div class="line">            PARSE_WARNING_IGNORED(0, section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* coremap */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;lcores&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;coremap == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;coremap = strdup(entry-&gt;<a name="a10"></a><a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* master_lcore */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;master_lcore&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;master_lcore_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;master_lcore_present = 1;</div>
<div class="line"></div>
<div class="line">            status = parser_read_uint32(&amp;p-&gt;master_lcore,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((status == 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* channels */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;n&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;channels_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;channels_present = 1;</div>
<div class="line"></div>
<div class="line">            status = parser_read_uint32(&amp;p-&gt;channels, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((status == 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* memory */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;m&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;memory_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;memory_present = 1;</div>
<div class="line"></div>
<div class="line">            status = parser_read_uint32(&amp;p-&gt;memory, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((status == 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* ranks */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;r&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;ranks_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;ranks_present = 1;</div>
<div class="line"></div>
<div class="line">            status = parser_read_uint32(&amp;p-&gt;ranks, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((status == 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* pci_blacklist */</span></div>
<div class="line">        <span class="keywordflow">if</span> ((strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pci_blacklist&quot;</span>) == 0) ||</div>
<div class="line">            (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;b&quot;</span>) == 0)) {</div>
<div class="line">            uint32_t i;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (i = 0; i &lt; APP_MAX_LINKS; i++) {</div>
<div class="line">                <span class="keywordflow">if</span> (p-&gt;pci_blacklist[i])</div>
<div class="line">                    <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">                p-&gt;pci_blacklist[i] =</div>
<div class="line">                    strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">                PARSE_ERROR_MALLOC(p-&gt;pci_blacklist[i]);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_MESSAGE((i &lt; APP_MAX_LINKS),</div>
<div class="line">                section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>,</div>
<div class="line">                <span class="stringliteral">&quot;too many elements&quot;</span>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* pci_whitelist */</span></div>
<div class="line">        <span class="keywordflow">if</span> ((strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pci_whitelist&quot;</span>) == 0) ||</div>
<div class="line">            (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;w&quot;</span>) == 0)) {</div>
<div class="line">            uint32_t i;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_MESSAGE((app-&gt;port_mask != 0),</div>
<div class="line">                section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;entry to be &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;generated by the application (port_mask &quot;</span></div>
<div class="line">                <span class="stringliteral">&quot;not provided)&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (i = 0; i &lt; APP_MAX_LINKS; i++) {</div>
<div class="line">                <span class="keywordflow">if</span> (p-&gt;pci_whitelist[i])</div>
<div class="line">                    <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">                p-&gt;pci_whitelist[i] = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">                PARSE_ERROR_MALLOC(p-&gt;pci_whitelist[i]);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_MESSAGE((i &lt; APP_MAX_LINKS),</div>
<div class="line">                section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>,</div>
<div class="line">                <span class="stringliteral">&quot;too many elements&quot;</span>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* vdev */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;vdev&quot;</span>) == 0) {</div>
<div class="line">            uint32_t i;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (i = 0; i &lt; APP_MAX_LINKS; i++) {</div>
<div class="line">                <span class="keywordflow">if</span> (p-&gt;vdev[i])</div>
<div class="line">                    <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">                p-&gt;vdev[i] = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">                PARSE_ERROR_MALLOC(p-&gt;vdev[i]);</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_MESSAGE((i &lt; APP_MAX_LINKS),</div>
<div class="line">                section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>,</div>
<div class="line">                <span class="stringliteral">&quot;too many elements&quot;</span>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* vmware_tsc_map */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;vmware_tsc_map&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;vmware_tsc_map_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;vmware_tsc_map_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;vmware_tsc_map = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* proc_type */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;proc_type&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;proc_type == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;proc_type = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* syslog */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;syslog&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;syslog == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;syslog = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* log_level */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;log_level&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;log_level_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;log_level_present = 1;</div>
<div class="line"></div>
<div class="line">            status = parser_read_uint32(&amp;p-&gt;log_level,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((status == 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* version */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;v&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;version_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;version_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;version = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* help */</span></div>
<div class="line">        <span class="keywordflow">if</span> ((strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;help&quot;</span>) == 0) ||</div>
<div class="line">            (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;h&quot;</span>) == 0)) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;help_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;help_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;help = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* no_huge */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;no_huge&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;no_huge_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;no_huge_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;no_huge = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* no_pci */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;no_pci&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;no_pci_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;no_pci_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;no_pci = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* no_hpet */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;no_hpet&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;no_hpet_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;no_hpet_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;no_hpet = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* no_shconf */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;no_shconf&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;no_shconf_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;no_shconf_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;no_shconf = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* add_driver */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;d&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;add_driver == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;add_driver = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* socket_mem */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;socket_mem&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;socket_mem == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;socket_mem = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* huge_dir */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;huge_dir&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;huge_dir == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;huge_dir = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* file_prefix */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;file_prefix&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;file_prefix == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;file_prefix = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* base_virtaddr */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;base_virtaddr&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;base_virtaddr == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;base_virtaddr = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* create_uio_dev */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;create_uio_dev&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;create_uio_dev_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;create_uio_dev_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;create_uio_dev = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* vfio_intr */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;vfio_intr&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;vfio_intr == NULL),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;vfio_intr = strdup(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* xen_dom0 */</span></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;xen_dom0&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((p-&gt;xen_dom0_present == 0),</div>
<div class="line">                section_name,</div>
<div class="line">                entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;xen_dom0_present = 1;</div>
<div class="line"></div>
<div class="line">            val = parser_read_arg_bool(entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR((val &gt;= 0), section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            p-&gt;xen_dom0 = val;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, entry-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_pipeline_pcap_source(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">struct</span> app_pipeline_params *p,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *file_name, <span class="keyword">const</span> <span class="keywordtype">char</span> *cp_size)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *next = NULL;</div>
<div class="line">    <span class="keywordtype">char</span> *end;</div>
<div class="line">    uint32_t i;</div>
<div class="line">    <span class="keywordtype">int</span> parse_file = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (file_name &amp;&amp; !cp_size) {</div>
<div class="line">        next = file_name;</div>
<div class="line">        parse_file = 1; <span class="comment">/* parse file path */</span></div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cp_size &amp;&amp; !file_name) {</div>
<div class="line">        next = cp_size;</div>
<div class="line">        parse_file = 0; <span class="comment">/* parse copy size */</span></div>
<div class="line">    } <span class="keywordflow">else</span></div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">char</span> name[APP_PARAM_NAME_SIZE];</div>
<div class="line">    <span class="keywordtype">size_t</span> name_len;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;n_pktq_in == 0)</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">    i = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (*next != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">        uint32_t id;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (i &gt;= p-&gt;n_pktq_in)</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">id</span> = p-&gt;pktq_in[i].id;</div>
<div class="line"></div>
<div class="line">        end = strchr(next, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!end)</div>
<div class="line">            name_len = strlen(next);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            name_len = end - next;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (name_len == 0 || name_len == <span class="keyword">sizeof</span>(name))</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        strncpy(name, next, name_len);</div>
<div class="line">        name[name_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">        next += name_len;</div>
<div class="line">        <span class="keywordflow">if</span> (*next != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">            next++;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (parse_file) {</div>
<div class="line">            app-&gt;source_params[id].file_name = strdup(name);</div>
<div class="line">            <span class="keywordflow">if</span> (app-&gt;source_params[<span class="keywordtype">id</span>].file_name == NULL)</div>
<div class="line">                <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">if</span> (parser_read_uint32(</div>
<div class="line">                &amp;app-&gt;source_params[<span class="keywordtype">id</span>].n_bytes_per_pkt,</div>
<div class="line">                name) != 0) {</div>
<div class="line">                <span class="keywordflow">if</span> (app-&gt;source_params[<span class="keywordtype">id</span>].</div>
<div class="line">                    file_name != NULL)</div>
<div class="line">                    free(app-&gt;source_params[<span class="keywordtype">id</span>].</div>
<div class="line">                        file_name);</div>
<div class="line">                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        i++;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (i == p-&gt;n_pktq_in)</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_pipeline_pcap_sink(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">struct</span> app_pipeline_params *p,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *file_name, <span class="keyword">const</span> <span class="keywordtype">char</span> *n_pkts_to_dump)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *next = NULL;</div>
<div class="line">    <span class="keywordtype">char</span> *end;</div>
<div class="line">    uint32_t i;</div>
<div class="line">    <span class="keywordtype">int</span> parse_file = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (file_name &amp;&amp; !n_pkts_to_dump) {</div>
<div class="line">        next = file_name;</div>
<div class="line">        parse_file = 1; <span class="comment">/* parse file path */</span></div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (n_pkts_to_dump &amp;&amp; !file_name) {</div>
<div class="line">        next = n_pkts_to_dump;</div>
<div class="line">        parse_file = 0; <span class="comment">/* parse copy size */</span></div>
<div class="line">    } <span class="keywordflow">else</span></div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">char</span> name[APP_PARAM_NAME_SIZE];</div>
<div class="line">    <span class="keywordtype">size_t</span> name_len;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;n_pktq_out == 0)</div>
<div class="line">        <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">    i = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (*next != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">        uint32_t id;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (i &gt;= p-&gt;n_pktq_out)</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">id</span> = p-&gt;pktq_out[i].id;</div>
<div class="line"></div>
<div class="line">        end = strchr(next, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!end)</div>
<div class="line">            name_len = strlen(next);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            name_len = end - next;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (name_len == 0 || name_len == <span class="keyword">sizeof</span>(name))</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        strncpy(name, next, name_len);</div>
<div class="line">        name[name_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">        next += name_len;</div>
<div class="line">        <span class="keywordflow">if</span> (*next != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">            next++;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (parse_file) {</div>
<div class="line">            app-&gt;sink_params[id].file_name = strdup(name);</div>
<div class="line">            <span class="keywordflow">if</span> (app-&gt;sink_params[<span class="keywordtype">id</span>].file_name == NULL)</div>
<div class="line">                <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="keywordflow">if</span> (parser_read_uint32(</div>
<div class="line">                &amp;app-&gt;sink_params[<span class="keywordtype">id</span>].n_pkts_to_dump,</div>
<div class="line">                name) != 0) {</div>
<div class="line">                <span class="keywordflow">if</span> (app-&gt;sink_params[<span class="keywordtype">id</span>].file_name !=</div>
<div class="line">                    NULL)</div>
<div class="line">                    free(app-&gt;sink_params[<span class="keywordtype">id</span>].</div>
<div class="line">                        file_name);</div>
<div class="line">                <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        i++;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (i == p-&gt;n_pktq_out)</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_pipeline_pktq_in(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">struct</span> app_pipeline_params *p,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *value)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *next = <a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>;</div>
<div class="line">    <span class="keywordtype">char</span> *end;</div>
<div class="line">    <span class="keywordtype">char</span> name[APP_PARAM_NAME_SIZE];</div>
<div class="line">    <span class="keywordtype">size_t</span> name_len;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> (*next != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">        <span class="keyword">enum</span> app_pktq_in_type type;</div>
<div class="line">        <span class="keywordtype">int</span> id;</div>
<div class="line">        <span class="keywordtype">char</span> *end_space;</div>
<div class="line">        <span class="keywordtype">char</span> *end_tab;</div>
<div class="line"></div>
<div class="line">        next = skip_white_spaces(next);</div>
<div class="line">        <span class="keywordflow">if</span> (!next)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        end_space = strchr(next, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">        end_tab = strchr(next, <span class="charliteral">&#39;    &#39;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (end_space &amp;&amp; (!end_tab))</div>
<div class="line">            end = end_space;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!end_space) &amp;&amp; end_tab)</div>
<div class="line">            end = end_tab;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_space &amp;&amp; end_tab)</div>
<div class="line">            end = <a name="a11"></a><a class="code" href="rte__common_8h.html#a4c7571cbcdbfe9b63431036af811bee9">RTE_MIN</a>(end_space, end_tab);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            end = NULL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!end)</div>
<div class="line">            name_len = strlen(next);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            name_len = end - next;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (name_len == 0 || name_len == <span class="keyword">sizeof</span>(name))</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        strncpy(name, next, name_len);</div>
<div class="line">        name[name_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">        next += name_len;</div>
<div class="line">        <span class="keywordflow">if</span> (*next != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">            next++;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;RXQ&quot;</span>, 2) == 0) {</div>
<div class="line">            type = APP_PKTQ_IN_HWQ;</div>
<div class="line">            <span class="keywordtype">id</span> = APP_PARAM_ADD(app-&gt;hwq_in_params, name);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;SWQ&quot;</span>, 1) == 0) {</div>
<div class="line">            type = APP_PKTQ_IN_SWQ;</div>
<div class="line">            <span class="keywordtype">id</span> = APP_PARAM_ADD(app-&gt;swq_params, name);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;TM&quot;</span>, 1) == 0) {</div>
<div class="line">            type = APP_PKTQ_IN_TM;</div>
<div class="line">            <span class="keywordtype">id</span> = APP_PARAM_ADD(app-&gt;tm_params, name);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;SOURCE&quot;</span>, 1) == 0) {</div>
<div class="line">            type = APP_PKTQ_IN_SOURCE;</div>
<div class="line">            <span class="keywordtype">id</span> = APP_PARAM_ADD(app-&gt;source_params, name);</div>
<div class="line">        } <span class="keywordflow">else</span></div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> id;</div>
<div class="line"></div>
<div class="line">        p-&gt;pktq_in[p-&gt;n_pktq_in].type = type;</div>
<div class="line">        p-&gt;pktq_in[p-&gt;n_pktq_in].id = (uint32_t) <span class="keywordtype">id</span>;</div>
<div class="line">        p-&gt;n_pktq_in++;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_pipeline_pktq_out(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">struct</span> app_pipeline_params *p,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *value)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *next = <a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>;</div>
<div class="line">    <span class="keywordtype">char</span> *end;</div>
<div class="line">    <span class="keywordtype">char</span> name[APP_PARAM_NAME_SIZE];</div>
<div class="line">    <span class="keywordtype">size_t</span> name_len;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> (*next != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">        <span class="keyword">enum</span> app_pktq_out_type type;</div>
<div class="line">        <span class="keywordtype">int</span> id;</div>
<div class="line">        <span class="keywordtype">char</span> *end_space;</div>
<div class="line">        <span class="keywordtype">char</span> *end_tab;</div>
<div class="line"></div>
<div class="line">        next = skip_white_spaces(next);</div>
<div class="line">        <span class="keywordflow">if</span> (!next)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        end_space = strchr(next, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">        end_tab = strchr(next, <span class="charliteral">&#39;    &#39;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (end_space &amp;&amp; (!end_tab))</div>
<div class="line">            end = end_space;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!end_space) &amp;&amp; end_tab)</div>
<div class="line">            end = end_tab;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_space &amp;&amp; end_tab)</div>
<div class="line">            end = <a class="code" href="rte__common_8h.html#a4c7571cbcdbfe9b63431036af811bee9">RTE_MIN</a>(end_space, end_tab);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            end = NULL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!end)</div>
<div class="line">            name_len = strlen(next);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            name_len = end - next;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (name_len == 0 || name_len == <span class="keyword">sizeof</span>(name))</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        strncpy(name, next, name_len);</div>
<div class="line">        name[name_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">        next += name_len;</div>
<div class="line">        <span class="keywordflow">if</span> (*next != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">            next++;</div>
<div class="line">        <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;TXQ&quot;</span>, 2) == 0) {</div>
<div class="line">            type = APP_PKTQ_OUT_HWQ;</div>
<div class="line">            <span class="keywordtype">id</span> = APP_PARAM_ADD(app-&gt;hwq_out_params, name);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;SWQ&quot;</span>, 1) == 0) {</div>
<div class="line">            type = APP_PKTQ_OUT_SWQ;</div>
<div class="line">            <span class="keywordtype">id</span> = APP_PARAM_ADD(app-&gt;swq_params, name);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;TM&quot;</span>, 1) == 0) {</div>
<div class="line">            type = APP_PKTQ_OUT_TM;</div>
<div class="line">            <span class="keywordtype">id</span> = APP_PARAM_ADD(app-&gt;tm_params, name);</div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;SINK&quot;</span>, 1) == 0) {</div>
<div class="line">            type = APP_PKTQ_OUT_SINK;</div>
<div class="line">            <span class="keywordtype">id</span> = APP_PARAM_ADD(app-&gt;sink_params, name);</div>
<div class="line">        } <span class="keywordflow">else</span></div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> id;</div>
<div class="line"></div>
<div class="line">        p-&gt;pktq_out[p-&gt;n_pktq_out].type = type;</div>
<div class="line">        p-&gt;pktq_out[p-&gt;n_pktq_out].id = id;</div>
<div class="line">        p-&gt;n_pktq_out++;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_pipeline_msgq_in(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">struct</span> app_pipeline_params *p,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *value)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *next = <a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>;</div>
<div class="line">    <span class="keywordtype">char</span> *end;</div>
<div class="line">    <span class="keywordtype">char</span> name[APP_PARAM_NAME_SIZE];</div>
<div class="line">    <span class="keywordtype">size_t</span> name_len;</div>
<div class="line">    ssize_t idx;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> (*next != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">        <span class="keywordtype">char</span> *end_space;</div>
<div class="line">        <span class="keywordtype">char</span> *end_tab;</div>
<div class="line"></div>
<div class="line">        next = skip_white_spaces(next);</div>
<div class="line">        <span class="keywordflow">if</span> (!next)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        end_space = strchr(next, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">        end_tab = strchr(next, <span class="charliteral">&#39;    &#39;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (end_space &amp;&amp; (!end_tab))</div>
<div class="line">            end = end_space;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!end_space) &amp;&amp; end_tab)</div>
<div class="line">            end = end_tab;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_space &amp;&amp; end_tab)</div>
<div class="line">            end = <a class="code" href="rte__common_8h.html#a4c7571cbcdbfe9b63431036af811bee9">RTE_MIN</a>(end_space, end_tab);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            end = NULL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!end)</div>
<div class="line">            name_len = strlen(next);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            name_len = end - next;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (name_len == 0 || name_len == <span class="keyword">sizeof</span>(name))</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        strncpy(name, next, name_len);</div>
<div class="line">        name[name_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">        next += name_len;</div>
<div class="line">        <span class="keywordflow">if</span> (*next != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">            next++;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;MSGQ&quot;</span>, 1) != 0)</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        idx = APP_PARAM_ADD(app-&gt;msgq_params, name);</div>
<div class="line">        <span class="keywordflow">if</span> (idx &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> idx;</div>
<div class="line"></div>
<div class="line">        p-&gt;msgq_in[p-&gt;n_msgq_in] = idx;</div>
<div class="line">        p-&gt;n_msgq_in++;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">parse_pipeline_msgq_out(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">struct</span> app_pipeline_params *p,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *value)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *next = <a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>;</div>
<div class="line">    <span class="keywordtype">char</span> *end;</div>
<div class="line">    <span class="keywordtype">char</span> name[APP_PARAM_NAME_SIZE];</div>
<div class="line">    <span class="keywordtype">size_t</span> name_len;</div>
<div class="line">    ssize_t idx;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> (*next != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line">        <span class="keywordtype">char</span> *end_space;</div>
<div class="line">        <span class="keywordtype">char</span> *end_tab;</div>
<div class="line"></div>
<div class="line">        next = skip_white_spaces(next);</div>
<div class="line">        <span class="keywordflow">if</span> (!next)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        end_space = strchr(next, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line">        end_tab = strchr(next, <span class="charliteral">&#39;    &#39;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (end_space &amp;&amp; (!end_tab))</div>
<div class="line">            end = end_space;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!end_space) &amp;&amp; end_tab)</div>
<div class="line">            end = end_tab;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_space &amp;&amp; end_tab)</div>
<div class="line">            end = <a class="code" href="rte__common_8h.html#a4c7571cbcdbfe9b63431036af811bee9">RTE_MIN</a>(end_space, end_tab);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            end = NULL;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!end)</div>
<div class="line">            name_len = strlen(next);</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">            name_len = end - next;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (name_len == 0 || name_len == <span class="keyword">sizeof</span>(name))</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        strncpy(name, next, name_len);</div>
<div class="line">        name[name_len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">        next += name_len;</div>
<div class="line">        <span class="keywordflow">if</span> (*next != <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line">            next++;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (validate_name(name, <span class="stringliteral">&quot;MSGQ&quot;</span>, 1) != 0)</div>
<div class="line">            <span class="keywordflow">return</span> -EINVAL;</div>
<div class="line"></div>
<div class="line">        idx = APP_PARAM_ADD(app-&gt;msgq_params, name);</div>
<div class="line">        <span class="keywordflow">if</span> (idx &lt; 0)</div>
<div class="line">            <span class="keywordflow">return</span> idx;</div>
<div class="line"></div>
<div class="line">        p-&gt;msgq_out[p-&gt;n_msgq_out] = idx;</div>
<div class="line">        p-&gt;n_msgq_out++;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_pipeline(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> name[CFG_NAME_LEN];</div>
<div class="line">    <span class="keyword">struct </span>app_pipeline_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;pipeline_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;pipeline_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;pipeline_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;type&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> w_size = snprintf(param-&gt;type, <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(param-&gt;type),</div>
<div class="line">                    <span class="stringliteral">&quot;%s&quot;</span>, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR(((w_size &gt; 0) &amp;&amp;</div>
<div class="line">                (w_size &lt; (<span class="keywordtype">int</span>)<a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(param-&gt;type))),</div>
<div class="line">                section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;core&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parse_pipeline_core(</div>
<div class="line">                &amp;param-&gt;socket_id, &amp;param-&gt;core_id,</div>
<div class="line">                &amp;param-&gt;hyper_th_id, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pktq_in&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parse_pipeline_pktq_in(app, param,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pktq_out&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parse_pipeline_pktq_out(app, param,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;msgq_in&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parse_pipeline_msgq_in(app, param,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;msgq_out&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parse_pipeline_msgq_out(app, param,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;timer_period&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;timer_period,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pcap_file_rd&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef RTE_PORT_PCAP</span></div>
<div class="line"><span class="preprocessor"></span>            PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            status = parse_pipeline_pcap_source(app,</div>
<div class="line">                param, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>, NULL);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pcap_bytes_rd_per_pkt&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef RTE_PORT_PCAP</span></div>
<div class="line"><span class="preprocessor"></span>            PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            status = parse_pipeline_pcap_source(app,</div>
<div class="line">                param, NULL, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pcap_file_wr&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef RTE_PORT_PCAP</span></div>
<div class="line"><span class="preprocessor"></span>            PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            status = parse_pipeline_pcap_sink(app, param,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>, NULL);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pcap_n_pkt_wr&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef RTE_PORT_PCAP</span></div>
<div class="line"><span class="preprocessor"></span>            PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            status = parse_pipeline_pcap_sink(app, param,</div>
<div class="line">                NULL, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* pipeline type specific items */</span></div>
<div class="line">        APP_CHECK((param-&gt;n_args &lt; APP_MAX_PIPELINE_ARGS),</div>
<div class="line">            <span class="stringliteral">&quot;Parse error in section \&quot;%s\&quot;: too many &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;pipeline specified parameters&quot;</span>, section_name);</div>
<div class="line"></div>
<div class="line">        param-&gt;args_name[param-&gt;n_args] = strdup(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">        param-&gt;args_value[param-&gt;n_args] = strdup(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">        APP_CHECK((param-&gt;args_name[param-&gt;n_args] != NULL) &amp;&amp;</div>
<div class="line">            (param-&gt;args_value[param-&gt;n_args] != NULL),</div>
<div class="line">            <span class="stringliteral">&quot;Parse error: no free memory&quot;</span>);</div>
<div class="line"></div>
<div class="line">        param-&gt;n_args++;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;MSGQ-REQ-%s&quot;</span>, section_name);</div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;msgq_params, name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;msgq_params, name);</div>
<div class="line">    app-&gt;msgq_params[param_idx].cpu_socket_id = param-&gt;socket_id;</div>
<div class="line">    param-&gt;msgq_in[param-&gt;n_msgq_in++] = param_idx;</div>
<div class="line"></div>
<div class="line">    snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;MSGQ-RSP-%s&quot;</span>, section_name);</div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;msgq_params, name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;msgq_params, name);</div>
<div class="line">    app-&gt;msgq_params[param_idx].cpu_socket_id = param-&gt;socket_id;</div>
<div class="line">    param-&gt;msgq_out[param-&gt;n_msgq_out++] = param_idx;</div>
<div class="line"></div>
<div class="line">    snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;MSGQ-REQ-CORE-s%&quot;</span> PRIu32 <span class="stringliteral">&quot;c%&quot;</span> PRIu32 <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line">        param-&gt;socket_id,</div>
<div class="line">        param-&gt;core_id,</div>
<div class="line">        (param-&gt;hyper_th_id) ? <span class="stringliteral">&quot;h&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;msgq_params, name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;msgq_params, name);</div>
<div class="line">    app-&gt;msgq_params[param_idx].cpu_socket_id = param-&gt;socket_id;</div>
<div class="line"></div>
<div class="line">    snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;MSGQ-RSP-CORE-s%&quot;</span> PRIu32 <span class="stringliteral">&quot;c%&quot;</span> PRIu32 <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line">        param-&gt;socket_id,</div>
<div class="line">        param-&gt;core_id,</div>
<div class="line">        (param-&gt;hyper_th_id) ? <span class="stringliteral">&quot;h&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;msgq_params, name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;msgq_params, name);</div>
<div class="line">    app-&gt;msgq_params[param_idx].cpu_socket_id = param-&gt;socket_id;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_mempool(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_mempool_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;mempool_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;mempool_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;mempool_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;buffer_size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;buffer_size, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pool_size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;pool_size, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;cache_size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;cache_size, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;cpu&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;cpu_socket_id, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_link(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_link_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    <span class="keywordtype">int</span> pci_bdf_present = 0;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;link_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;link_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;link_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;promisc&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_arg_bool(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status != -EINVAL), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            param-&gt;promisc = status;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;arp_q&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;arp_q,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;tcp_syn_q&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;tcp_syn_q, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;ip_local_q&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;ip_local_q, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;tcp_local_q&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;tcp_local_q, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;udp_local_q&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;udp_local_q, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;sctp_local_q&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;sctp_local_q, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pci_bdf&quot;</span>) == 0) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((pci_bdf_present == 0),</div>
<div class="line">                section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"></div>
<div class="line">            snprintf(param-&gt;pci_bdf, APP_LINK_PCI_BDF_SIZE,</div>
<div class="line">                <span class="stringliteral">&quot;%s&quot;</span>, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            pci_bdf_present = 1;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check for mandatory fields */</span></div>
<div class="line">    <span class="keywordflow">if</span> (app-&gt;port_mask)</div>
<div class="line">        PARSE_ERROR_MESSAGE((pci_bdf_present == 0),</div>
<div class="line">            section_name, <span class="stringliteral">&quot;pci_bdf&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;entry not allowed (port_mask is provided)&quot;</span>);</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        PARSE_ERROR_MESSAGE((pci_bdf_present),</div>
<div class="line">            section_name, <span class="stringliteral">&quot;pci_bdf&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;this entry is mandatory (port_mask is not &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;provided)&quot;</span>);</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_rxq(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_hwq_in_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;hwq_in_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;hwq_in_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;hwq_in_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;mempool&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = validate_name(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>,</div>
<div class="line">                <span class="stringliteral">&quot;MEMPOOL&quot;</span>, 1);</div>
<div class="line">            ssize_t idx;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            idx = APP_PARAM_ADD(app-&gt;mempool_params,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSER_PARAM_ADD_CHECK(idx, app-&gt;mempool_params,</div>
<div class="line">                section_name);</div>
<div class="line">            param-&gt;mempool_id = idx;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;size,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;burst&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;burst,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_txq(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_hwq_out_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;hwq_out_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;hwq_out_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;hwq_out_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;size,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;burst&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;burst,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;dropless&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_arg_bool(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status != -EINVAL), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            param-&gt;dropless = status;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_swq(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_swq_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    uint32_t mtu_present = 0;</div>
<div class="line">    uint32_t metadata_size_present = 0;</div>
<div class="line">    uint32_t mempool_direct_present = 0;</div>
<div class="line">    uint32_t mempool_indirect_present = 0;</div>
<div class="line"></div>
<div class="line">    ssize_t param_idx;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;swq_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;swq_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;swq_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;size,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;burst_read&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;</div>
<div class="line">                param-&gt;burst_read, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;burst_write&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;burst_write, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;dropless&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_arg_bool(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status != -EINVAL), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            param-&gt;dropless = status;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;n_retries&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint64(&amp;param-&gt;n_retries,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;cpu&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;cpu_socket_id, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;ipv4_frag&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_arg_bool(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status != -EINVAL), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"></div>
<div class="line">            param-&gt;ipv4_frag = status;</div>
<div class="line">            <span class="keywordflow">if</span> (param-&gt;mtu == 0)</div>
<div class="line">                param-&gt;mtu = 1500;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;ipv6_frag&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_arg_bool(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status != -EINVAL), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            param-&gt;ipv6_frag = status;</div>
<div class="line">            <span class="keywordflow">if</span> (param-&gt;mtu == 0)</div>
<div class="line">                param-&gt;mtu = 1320;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;ipv4_ras&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_arg_bool(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status != -EINVAL), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            param-&gt;ipv4_ras = status;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;ipv6_ras&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_arg_bool(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status != -EINVAL), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            param-&gt;ipv6_ras = status;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;mtu&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;mtu,</div>
<div class="line">                    ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            mtu_present = 1;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;metadata_size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;metadata_size, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            metadata_size_present = 1;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;mempool_direct&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = validate_name(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>,</div>
<div class="line">                <span class="stringliteral">&quot;MEMPOOL&quot;</span>, 1);</div>
<div class="line">            ssize_t idx;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"></div>
<div class="line">            idx = APP_PARAM_ADD(app-&gt;mempool_params,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSER_PARAM_ADD_CHECK(idx, app-&gt;mempool_params,</div>
<div class="line">                section_name);</div>
<div class="line">            param-&gt;mempool_direct_id = idx;</div>
<div class="line">            mempool_direct_present = 1;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;mempool_indirect&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = validate_name(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>,</div>
<div class="line">                <span class="stringliteral">&quot;MEMPOOL&quot;</span>, 1);</div>
<div class="line">            ssize_t idx;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            idx = APP_PARAM_ADD(app-&gt;mempool_params,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSER_PARAM_ADD_CHECK(idx, app-&gt;mempool_params,</div>
<div class="line">                section_name);</div>
<div class="line">            param-&gt;mempool_indirect_id = idx;</div>
<div class="line">            mempool_indirect_present = 1;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    APP_CHECK(((mtu_present) &amp;&amp;</div>
<div class="line">        ((param-&gt;ipv4_frag == 1) || (param-&gt;ipv6_frag == 1))),</div>
<div class="line">        <span class="stringliteral">&quot;Parse error in section \&quot;%s\&quot;: IPv4/IPv6 fragmentation &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;is off, therefore entry \&quot;mtu\&quot; is not allowed&quot;</span>,</div>
<div class="line">        section_name);</div>
<div class="line"></div>
<div class="line">    APP_CHECK(((metadata_size_present) &amp;&amp;</div>
<div class="line">        ((param-&gt;ipv4_frag == 1) || (param-&gt;ipv6_frag == 1))),</div>
<div class="line">        <span class="stringliteral">&quot;Parse error in section \&quot;%s\&quot;: IPv4/IPv6 fragmentation &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;is off, therefore entry \&quot;metadata_size\&quot; is &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;not allowed&quot;</span>, section_name);</div>
<div class="line"></div>
<div class="line">    APP_CHECK(((mempool_direct_present) &amp;&amp;</div>
<div class="line">        ((param-&gt;ipv4_frag == 1) || (param-&gt;ipv6_frag == 1))),</div>
<div class="line">        <span class="stringliteral">&quot;Parse error in section \&quot;%s\&quot;: IPv4/IPv6 fragmentation &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;is off, therefore entry \&quot;mempool_direct\&quot; is &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;not allowed&quot;</span>, section_name);</div>
<div class="line"></div>
<div class="line">    APP_CHECK(((mempool_indirect_present) &amp;&amp;</div>
<div class="line">        ((param-&gt;ipv4_frag == 1) || (param-&gt;ipv6_frag == 1))),</div>
<div class="line">        <span class="stringliteral">&quot;Parse error in section \&quot;%s\&quot;: IPv4/IPv6 fragmentation &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;is off, therefore entry \&quot;mempool_indirect\&quot; is &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;not allowed&quot;</span>, section_name);</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_tm(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_tm_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;tm_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;tm_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;tm_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;cfg&quot;</span>) == 0) {</div>
<div class="line">            param-&gt;file_name = strdup(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSE_ERROR_MALLOC(param-&gt;file_name != NULL);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;burst_read&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;burst_read, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;burst_write&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;burst_write, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_source(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_source_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line">    uint32_t pcap_file_present = 0;</div>
<div class="line">    uint32_t pcap_size_present = 0;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;source_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;source_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;source_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;mempool&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = validate_name(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>,</div>
<div class="line">                <span class="stringliteral">&quot;MEMPOOL&quot;</span>, 1);</div>
<div class="line">            ssize_t idx;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            idx = APP_PARAM_ADD(app-&gt;mempool_params,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line">            PARSER_PARAM_ADD_CHECK(idx, app-&gt;mempool_params,</div>
<div class="line">                section_name);</div>
<div class="line">            param-&gt;mempool_id = idx;</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;burst&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;burst,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pcap_file_rd&quot;</span>)) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((pcap_file_present == 0),</div>
<div class="line">                section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"></div>
<div class="line">            param-&gt;file_name = strdup(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_MALLOC(param-&gt;file_name != NULL);</div>
<div class="line">            pcap_file_present = 1;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pcap_bytes_rd_per_pkt&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((pcap_size_present == 0),</div>
<div class="line">                section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"></div>
<div class="line">            status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;n_bytes_per_pkt, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            pcap_size_present = 1;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_sink(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_sink_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line">    uint32_t pcap_file_present = 0;</div>
<div class="line">    uint32_t pcap_n_pkt_present = 0;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;sink_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;sink_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;sink_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pcap_file_wr&quot;</span>)) {</div>
<div class="line">            PARSE_ERROR_DUPLICATE((pcap_file_present == 0),</div>
<div class="line">                section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"></div>
<div class="line">            param-&gt;file_name = strdup(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_MALLOC((param-&gt;file_name != NULL));</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;pcap_n_pkt_wr&quot;</span>)) {</div>
<div class="line">            <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR_DUPLICATE((pcap_n_pkt_present == 0),</div>
<div class="line">                section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"></div>
<div class="line">            status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;n_pkts_to_dump, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_msgq_req_pipeline(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_msgq_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;msgq_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;msgq_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;msgq_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;size,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_msgq_rsp_pipeline(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_msgq_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;msgq_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;msgq_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;msgq_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;size,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">parse_msgq(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct</span> rte_cfgfile *cfg)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_msgq_params *param;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *entries;</div>
<div class="line">    <span class="keywordtype">int</span> n_entries, i;</div>
<div class="line">    ssize_t param_idx;</div>
<div class="line"></div>
<div class="line">    n_entries = <a class="code" href="rte__cfgfile_8h.html#a2a25b023837c06cf00b52bdc34db1454">rte_cfgfile_section_num_entries</a>(cfg, section_name);</div>
<div class="line">    PARSE_ERROR_SECTION_NO_ENTRIES((n_entries &gt; 0), section_name);</div>
<div class="line"></div>
<div class="line">    entries = malloc(n_entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a>));</div>
<div class="line">    PARSE_ERROR_MALLOC(entries != NULL);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="rte__cfgfile_8h.html#a621b02bb7ccc2b267653389bfbccb45a">rte_cfgfile_section_entries</a>(cfg, section_name, entries, n_entries);</div>
<div class="line"></div>
<div class="line">    param_idx = APP_PARAM_ADD(app-&gt;msgq_params, section_name);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(param_idx, app-&gt;msgq_params, section_name);</div>
<div class="line"></div>
<div class="line">    param = &amp;app-&gt;msgq_params[param_idx];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; n_entries; i++) {</div>
<div class="line">        <span class="keyword">struct </span><a class="code" href="structrte__cfgfile__entry.html">rte_cfgfile_entry</a> *ent = &amp;entries[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;size&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(&amp;param-&gt;size,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strcmp(ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>, <span class="stringliteral">&quot;cpu&quot;</span>) == 0) {</div>
<div class="line">            <span class="keywordtype">int</span> status = parser_read_uint32(</div>
<div class="line">                &amp;param-&gt;cpu_socket_id, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a1b6bb031724c4ca2891debceb3d724d9">value</a>);</div>
<div class="line"></div>
<div class="line">            PARSE_ERROR((status == 0), section_name,</div>
<div class="line">                ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* unrecognized */</span></div>
<div class="line">        PARSE_ERROR_INVALID(0, section_name, ent-&gt;<a class="code" href="structrte__cfgfile__entry.html#a72558708515999b55d8a54c5e3ea2465">name</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    param-&gt;parsed = 1;</div>
<div class="line"></div>
<div class="line">    free(entries);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">typedef</span> void (*config_section_load)(<span class="keyword">struct </span>app_params *p,</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *section_name,</div>
<div class="line">    <span class="keyword">struct </span>rte_cfgfile *cfg);</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>config_section {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> prefix[CFG_NAME_LEN];</div>
<div class="line">    <span class="keywordtype">int</span> numbers;</div>
<div class="line">    config_section_load load;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span>config_section cfg_file_scheme[] = {</div>
<div class="line">    {<span class="stringliteral">&quot;EAL&quot;</span>, 0, parse_eal},</div>
<div class="line">    {<span class="stringliteral">&quot;PIPELINE&quot;</span>, 1, parse_pipeline},</div>
<div class="line">    {<span class="stringliteral">&quot;MEMPOOL&quot;</span>, 1, parse_mempool},</div>
<div class="line">    {<span class="stringliteral">&quot;LINK&quot;</span>, 1, parse_link},</div>
<div class="line">    {<span class="stringliteral">&quot;RXQ&quot;</span>, 2, parse_rxq},</div>
<div class="line">    {<span class="stringliteral">&quot;TXQ&quot;</span>, 2, parse_txq},</div>
<div class="line">    {<span class="stringliteral">&quot;SWQ&quot;</span>, 1, parse_swq},</div>
<div class="line">    {<span class="stringliteral">&quot;TM&quot;</span>, 1, parse_tm},</div>
<div class="line">    {<span class="stringliteral">&quot;SOURCE&quot;</span>, 1, parse_source},</div>
<div class="line">    {<span class="stringliteral">&quot;SINK&quot;</span>, 1, parse_sink},</div>
<div class="line">    {<span class="stringliteral">&quot;MSGQ-REQ-PIPELINE&quot;</span>, 1, parse_msgq_req_pipeline},</div>
<div class="line">    {<span class="stringliteral">&quot;MSGQ-RSP-PIPELINE&quot;</span>, 1, parse_msgq_rsp_pipeline},</div>
<div class="line">    {<span class="stringliteral">&quot;MSGQ&quot;</span>, 1, parse_msgq},</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">create_implicit_mempools(<span class="keyword">struct</span> app_params *app)</div>
<div class="line">{</div>
<div class="line">    ssize_t idx;</div>
<div class="line"></div>
<div class="line">    idx = APP_PARAM_ADD(app-&gt;mempool_params, <span class="stringliteral">&quot;MEMPOOL0&quot;</span>);</div>
<div class="line">    PARSER_PARAM_ADD_CHECK(idx, app-&gt;mempool_params, <span class="stringliteral">&quot;start-up&quot;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">create_implicit_links_from_port_mask(<span class="keyword">struct</span> app_params *app,</div>
<div class="line">    uint64_t port_mask)</div>
<div class="line">{</div>
<div class="line">    uint32_t pmd_id, link_id;</div>
<div class="line"></div>
<div class="line">    link_id = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (pmd_id = 0; pmd_id &lt; RTE_MAX_ETHPORTS; pmd_id++) {</div>
<div class="line">        <span class="keywordtype">char</span> name[APP_PARAM_NAME_SIZE];</div>
<div class="line">        ssize_t idx;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ((port_mask &amp; (1LLU &lt;&lt; pmd_id)) == 0)</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        snprintf(name, <span class="keyword">sizeof</span>(name), <span class="stringliteral">&quot;LINK%&quot;</span> PRIu32, link_id);</div>
<div class="line">        idx = APP_PARAM_ADD(app-&gt;link_params, name);</div>
<div class="line">        PARSER_PARAM_ADD_CHECK(idx, app-&gt;link_params, name);</div>
<div class="line"></div>
<div class="line">        app-&gt;link_params[idx].pmd_id = pmd_id;</div>
<div class="line">        link_id++;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">assign_link_pmd_id_from_pci_bdf(<span class="keyword">struct</span> app_params *app)</div>
<div class="line">{</div>
<div class="line">    uint32_t i;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; app-&gt;n_links; i++) {</div>
<div class="line">        <span class="keyword">struct </span>app_link_params *link = &amp;app-&gt;link_params[i];</div>
<div class="line"></div>
<div class="line">        link-&gt;pmd_id = i;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_config_parse(<span class="keyword">struct</span> app_params *app, <span class="keyword">const</span> <span class="keywordtype">char</span> *file_name)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>rte_cfgfile *cfg;</div>
<div class="line">    <span class="keywordtype">char</span> **section_names;</div>
<div class="line">    <span class="keywordtype">int</span> i, j, sect_count;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Implicit mempools */</span></div>
<div class="line">    create_implicit_mempools(app);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Port mask */</span></div>
<div class="line">    <span class="keywordflow">if</span> (app-&gt;port_mask)</div>
<div class="line">        create_implicit_links_from_port_mask(app, app-&gt;port_mask);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Load application configuration file */</span></div>
<div class="line">    cfg = <a name="a12"></a><a class="code" href="rte__cfgfile_8h.html#acb683a98c429a8e86dfd62f93930f955">rte_cfgfile_load</a>(file_name, 0);</div>
<div class="line">    APP_CHECK((cfg != NULL), <span class="stringliteral">&quot;Parse error: Unable to load config &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;file %s&quot;</span>, file_name);</div>
<div class="line"></div>
<div class="line">    sect_count = <a name="a13"></a><a class="code" href="rte__cfgfile_8h.html#ad2c43f9f3a2a2a5499a00355d02b8089">rte_cfgfile_num_sections</a>(cfg, NULL, 0);</div>
<div class="line">    APP_CHECK((sect_count &gt; 0), <span class="stringliteral">&quot;Parse error: number of sections &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;in file \&quot;%s\&quot; return %d&quot;</span>, file_name,</div>
<div class="line">        sect_count);</div>
<div class="line"></div>
<div class="line">    section_names = malloc(sect_count * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div>
<div class="line">    PARSE_ERROR_MALLOC(section_names != NULL);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; sect_count; i++)</div>
<div class="line">        section_names[i] = malloc(CFG_NAME_LEN);</div>
<div class="line"></div>
<div class="line">    <a name="a14"></a><a class="code" href="rte__cfgfile_8h.html#a45f0174051c10472695ba2083c7f3cb6">rte_cfgfile_sections</a>(cfg, section_names, sect_count);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; sect_count; i++) {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">struct </span>config_section *sch_s;</div>
<div class="line">        <span class="keywordtype">int</span> len, cfg_name_len;</div>
<div class="line"></div>
<div class="line">        cfg_name_len = strlen(section_names[i]);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* Find section type */</span></div>
<div class="line">        <span class="keywordflow">for</span> (j = 0; j &lt; (int)<a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(cfg_file_scheme); j++) {</div>
<div class="line">            sch_s = &amp;cfg_file_scheme[j];</div>
<div class="line">            len = strlen(sch_s-&gt;prefix);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (cfg_name_len &lt; len)</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">/* After section name we expect only &#39;\0&#39; or digit or</span></div>
<div class="line"><span class="comment">             * digit dot digit, so protect against false matching,</span></div>
<div class="line"><span class="comment">             * for example: &quot;ABC&quot; should match section name</span></div>
<div class="line"><span class="comment">             * &quot;ABC0.0&quot;, but it should not match section_name</span></div>
<div class="line"><span class="comment">             * &quot;ABCDEF&quot;.</span></div>
<div class="line"><span class="comment">             */</span></div>
<div class="line">            <span class="keywordflow">if</span> ((section_names[i][len] != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp;</div>
<div class="line">                !isdigit(section_names[i][len]))</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (strncmp(sch_s-&gt;prefix, section_names[i], len) == 0)</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        APP_CHECK(j &lt; (<span class="keywordtype">int</span>)<a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(cfg_file_scheme),</div>
<div class="line">            <span class="stringliteral">&quot;Parse error: unknown section %s&quot;</span>,</div>
<div class="line">            section_names[i]);</div>
<div class="line"></div>
<div class="line">        APP_CHECK(validate_name(section_names[i],</div>
<div class="line">            sch_s-&gt;prefix,</div>
<div class="line">            sch_s-&gt;numbers) == 0,</div>
<div class="line">            <span class="stringliteral">&quot;Parse error: invalid section name \&quot;%s\&quot;&quot;</span>,</div>
<div class="line">            section_names[i]);</div>
<div class="line"></div>
<div class="line">        sch_s-&gt;load(app, section_names[i], cfg);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; sect_count; i++)</div>
<div class="line">        free(section_names[i]);</div>
<div class="line"></div>
<div class="line">    free(section_names);</div>
<div class="line"></div>
<div class="line">    <a name="a15"></a><a class="code" href="rte__cfgfile_8h.html#a084ea62fcd6276e1ae75b3d69eaec3ce">rte_cfgfile_close</a>(cfg);</div>
<div class="line"></div>
<div class="line">    APP_PARAM_COUNT(app-&gt;mempool_params, app-&gt;n_mempools);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;link_params, app-&gt;n_links);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;hwq_in_params, app-&gt;n_pktq_hwq_in);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;hwq_out_params, app-&gt;n_pktq_hwq_out);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;swq_params, app-&gt;n_pktq_swq);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;tm_params, app-&gt;n_pktq_tm);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;source_params, app-&gt;n_pktq_source);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;sink_params, app-&gt;n_pktq_sink);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;msgq_params, app-&gt;n_msgq);</div>
<div class="line">    APP_PARAM_COUNT(app-&gt;pipeline_params, app-&gt;n_pipelines);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef RTE_PORT_PCAP</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">for</span> (i = 0; i &lt; (int)app-&gt;n_pktq_source; i++) {</div>
<div class="line">        <span class="keyword">struct </span>app_pktq_source_params *p = &amp;app-&gt;source_params[i];</div>
<div class="line"></div>
<div class="line">        APP_CHECK((p-&gt;file_name), <span class="stringliteral">&quot;Parse error: missing &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;mandatory field \&quot;pcap_file_rd\&quot; for \&quot;%s\&quot;&quot;</span>,</div>
<div class="line">            p-&gt;name);</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">for</span> (i = 0; i &lt; (int)app-&gt;n_pktq_source; i++) {</div>
<div class="line">        <span class="keyword">struct </span>app_pktq_source_params *p = &amp;app-&gt;source_params[i];</div>
<div class="line"></div>
<div class="line">        APP_CHECK((!p-&gt;file_name), <span class="stringliteral">&quot;Parse error: invalid field &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;\&quot;pcap_file_rd\&quot; for \&quot;%s\&quot;&quot;</span>, p-&gt;name);</div>
<div class="line">    }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">if</span> (app-&gt;port_mask == 0)</div>
<div class="line">        assign_link_pmd_id_from_pci_bdf(app);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Save configuration to output file */</span></div>
<div class="line">    app_config_save(app, app-&gt;output_file);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Load TM configuration files */</span></div>
<div class="line">    app_config_parse_tm(app);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_eal_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_eal_params *p = &amp;app-&gt;eal_params;</div>
<div class="line">    uint32_t i;</div>
<div class="line"></div>
<div class="line">    fprintf(f, <span class="stringliteral">&quot;[EAL]\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;coremap)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;lcores&quot;</span>, p-&gt;coremap);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;master_lcore_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;master_lcore&quot;</span>, p-&gt;master_lcore);</div>
<div class="line"></div>
<div class="line">    fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;n&quot;</span>, p-&gt;channels);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;memory_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;m&quot;</span>, p-&gt;memory);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;ranks_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>, p-&gt;ranks);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; APP_MAX_LINKS; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;pci_blacklist[i] == NULL)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;pci_blacklist&quot;</span>,</div>
<div class="line">            p-&gt;pci_blacklist[i]);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; APP_MAX_LINKS; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;pci_whitelist[i] == NULL)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;pci_whitelist&quot;</span>,</div>
<div class="line">            p-&gt;pci_whitelist[i]);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; APP_MAX_LINKS; i++) {</div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;vdev[i] == NULL)</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;vdev&quot;</span>,</div>
<div class="line">            p-&gt;vdev[i]);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;vmware_tsc_map_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;vmware_tsc_map&quot;</span>,</div>
<div class="line">            (p-&gt;vmware_tsc_map) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;proc_type)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;proc_type&quot;</span>, p-&gt;proc_type);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;syslog)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;syslog&quot;</span>, p-&gt;syslog);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;log_level_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;log_level&quot;</span>, p-&gt;log_level);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;version_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;v&quot;</span>, (p-&gt;version) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;help_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;help&quot;</span>, (p-&gt;help) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;no_huge_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;no_huge&quot;</span>, (p-&gt;no_huge) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;no_pci_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;no_pci&quot;</span>, (p-&gt;no_pci) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;no_hpet_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;no_hpet&quot;</span>, (p-&gt;no_hpet) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;no_shconf_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;no_shconf&quot;</span>,</div>
<div class="line">            (p-&gt;no_shconf) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;add_driver)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, p-&gt;add_driver);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;socket_mem)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;socket_mem&quot;</span>, p-&gt;socket_mem);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;huge_dir)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;huge_dir&quot;</span>, p-&gt;huge_dir);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;file_prefix)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;file_prefix&quot;</span>, p-&gt;file_prefix);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;base_virtaddr)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;base_virtaddr&quot;</span>, p-&gt;base_virtaddr);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;create_uio_dev_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;create_uio_dev&quot;</span>,</div>
<div class="line">            (p-&gt;create_uio_dev) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;vfio_intr)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;vfio_intr&quot;</span>, p-&gt;vfio_intr);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (p-&gt;xen_dom0_present)</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;xen_dom0&quot;</span>,</div>
<div class="line">            (p-&gt;xen_dom0) ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">    fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_mempool_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_mempool_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;mempool_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;mempool_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;buffer_size&quot;</span>, p-&gt;buffer_size);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;pool_size&quot;</span>, p-&gt;pool_size);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;cache_size&quot;</span>, p-&gt;cache_size);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;cpu&quot;</span>, p-&gt;cpu_socket_id);</div>
<div class="line"></div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_links_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_link_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;link_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;link_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;; %s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;pmd_id&quot;</span>, p-&gt;pmd_id);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;promisc&quot;</span>, p-&gt;promisc ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;arp_q&quot;</span>, p-&gt;arp_q);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;tcp_syn_q&quot;</span>,</div>
<div class="line">            p-&gt;tcp_syn_q);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;ip_local_q&quot;</span>, p-&gt;ip_local_q);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;tcp_local_q&quot;</span>, p-&gt;tcp_local_q);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;udp_local_q&quot;</span>, p-&gt;udp_local_q);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;sctp_local_q&quot;</span>,</div>
<div class="line">            p-&gt;sctp_local_q);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (strlen(p-&gt;pci_bdf))</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;pci_bdf&quot;</span>, p-&gt;pci_bdf);</div>
<div class="line"></div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_rxq_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_hwq_in_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;hwq_in_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;hwq_in_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;mempool&quot;</span>,</div>
<div class="line">            app-&gt;mempool_params[p-&gt;mempool_id].name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>, p-&gt;size);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;burst&quot;</span>, p-&gt;burst);</div>
<div class="line"></div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_txq_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_hwq_out_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;hwq_out_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;hwq_out_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>, p-&gt;size);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;burst&quot;</span>, p-&gt;burst);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;dropless&quot;</span>,</div>
<div class="line">            p-&gt;dropless ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line"></div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_swq_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_swq_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;swq_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;swq_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>, p-&gt;size);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;burst_read&quot;</span>, p-&gt;burst_read);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;burst_write&quot;</span>, p-&gt;burst_write);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;dropless&quot;</span>, p-&gt;dropless ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu64 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;n_retries&quot;</span>, p-&gt;n_retries);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;cpu&quot;</span>, p-&gt;cpu_socket_id);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;ipv4_frag&quot;</span>, p-&gt;ipv4_frag ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;ipv6_frag&quot;</span>, p-&gt;ipv6_frag ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;ipv4_ras&quot;</span>, p-&gt;ipv4_ras ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;ipv6_ras&quot;</span>, p-&gt;ipv6_ras ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>);</div>
<div class="line">        <span class="keywordflow">if</span> ((p-&gt;ipv4_frag == 1) || (p-&gt;ipv6_frag == 1)) {</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;mtu&quot;</span>, p-&gt;mtu);</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;metadata_size&quot;</span>, p-&gt;metadata_size);</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;mempool_direct&quot;</span>,</div>
<div class="line">                app-&gt;mempool_params[p-&gt;mempool_direct_id].name);</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;mempool_indirect&quot;</span>,</div>
<div class="line">                app-&gt;mempool_params[p-&gt;mempool_indirect_id].name);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_tm_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_tm_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;tm_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;tm_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;cfg&quot;</span>, p-&gt;file_name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;burst_read&quot;</span>, p-&gt;burst_read);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;burst_write&quot;</span>, p-&gt;burst_write);</div>
<div class="line"></div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_source_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_source_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;source_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;source_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;mempool&quot;</span>,</div>
<div class="line">            app-&gt;mempool_params[p-&gt;mempool_id].name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;burst&quot;</span>, p-&gt;burst);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;pcap_file_rd&quot;</span>, p-&gt;file_name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;pcap_bytes_rd_per_pkt&quot;</span>,</div>
<div class="line">            p-&gt;n_bytes_per_pkt);</div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_sink_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_pktq_sink_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;sink_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;sink_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, <span class="stringliteral">&quot;pcap_file_wr&quot;</span>, p-&gt;file_name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line">                <span class="stringliteral">&quot;pcap_n_pkt_wr&quot;</span>, p-&gt;n_pkts_to_dump);</div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_msgq_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>app_msgq_params *p;</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;msgq_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        p = &amp;app-&gt;msgq_params[i];</div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;size&quot;</span>, p-&gt;size);</div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;%s = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, <span class="stringliteral">&quot;cpu&quot;</span>, p-&gt;cpu_socket_id);</div>
<div class="line"></div>
<div class="line">        fputc(<span class="charliteral">&#39;\n&#39;</span>, f);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span></div>
<div class="line">save_pipeline_params(<span class="keyword">struct</span> app_params *app, FILE *f)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> i, count;</div>
<div class="line"></div>
<div class="line">    count = <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;pipeline_params);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; count; i++) {</div>
<div class="line">        <span class="keyword">struct </span>app_pipeline_params *p = &amp;app-&gt;pipeline_params[i];</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (!APP_PARAM_VALID(p))</div>
<div class="line">            <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* section name */</span></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;[%s]\n&quot;</span>, p-&gt;name);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* type */</span></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;type = %s\n&quot;</span>, p-&gt;type);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* core */</span></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;core = s%&quot;</span> PRIu32 <span class="stringliteral">&quot;c%&quot;</span> PRIu32 <span class="stringliteral">&quot;%s\n&quot;</span>,</div>
<div class="line">            p-&gt;socket_id,</div>
<div class="line">            p-&gt;core_id,</div>
<div class="line">            (p-&gt;hyper_th_id) ? <span class="stringliteral">&quot;h&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* pktq_in */</span></div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;n_pktq_in) {</div>
<div class="line">            uint32_t j;</div>
<div class="line"></div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;pktq_in =&quot;</span>);</div>
<div class="line">            <span class="keywordflow">for</span> (j = 0; j &lt; p-&gt;n_pktq_in; j++) {</div>
<div class="line">                <span class="keyword">struct </span>app_pktq_in_params *pp = &amp;p-&gt;pktq_in[j];</div>
<div class="line">                <span class="keywordtype">char</span> *name;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">switch</span> (pp-&gt;type) {</div>
<div class="line">                <span class="keywordflow">case</span> APP_PKTQ_IN_HWQ:</div>
<div class="line">                    name = app-&gt;hwq_in_params[pp-&gt;id].name;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> APP_PKTQ_IN_SWQ:</div>
<div class="line">                    name = app-&gt;swq_params[pp-&gt;id].name;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> APP_PKTQ_IN_TM:</div>
<div class="line">                    name = app-&gt;tm_params[pp-&gt;id].name;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> APP_PKTQ_IN_SOURCE:</div>
<div class="line">                    name = app-&gt;source_params[pp-&gt;id].name;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    APP_CHECK(0, <span class="stringliteral">&quot;System error &quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;occurred while saving &quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;parameter to file&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                fprintf(f, <span class="stringliteral">&quot; %s&quot;</span>, name);</div>
<div class="line">            }</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* pktq_in */</span></div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;n_pktq_out) {</div>
<div class="line">            uint32_t j;</div>
<div class="line"></div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;pktq_out =&quot;</span>);</div>
<div class="line">            <span class="keywordflow">for</span> (j = 0; j &lt; p-&gt;n_pktq_out; j++) {</div>
<div class="line">                <span class="keyword">struct </span>app_pktq_out_params *pp =</div>
<div class="line">                    &amp;p-&gt;pktq_out[j];</div>
<div class="line">                <span class="keywordtype">char</span> *name;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">switch</span> (pp-&gt;type) {</div>
<div class="line">                <span class="keywordflow">case</span> APP_PKTQ_OUT_HWQ:</div>
<div class="line">                    name = app-&gt;hwq_out_params[pp-&gt;id].name;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> APP_PKTQ_OUT_SWQ:</div>
<div class="line">                    name = app-&gt;swq_params[pp-&gt;id].name;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> APP_PKTQ_OUT_TM:</div>
<div class="line">                    name = app-&gt;tm_params[pp-&gt;id].name;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">case</span> APP_PKTQ_OUT_SINK:</div>
<div class="line">                    name = app-&gt;sink_params[pp-&gt;id].name;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    APP_CHECK(0, <span class="stringliteral">&quot;System error &quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;occurred while saving &quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;parameter to file&quot;</span>);</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                fprintf(f, <span class="stringliteral">&quot; %s&quot;</span>, name);</div>
<div class="line">            }</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* msgq_in */</span></div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;n_msgq_in) {</div>
<div class="line">            uint32_t j;</div>
<div class="line"></div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;msgq_in =&quot;</span>);</div>
<div class="line">            <span class="keywordflow">for</span> (j = 0; j &lt; p-&gt;n_msgq_in; j++) {</div>
<div class="line">                uint32_t <span class="keywordtype">id</span> = p-&gt;msgq_in[j];</div>
<div class="line">                <span class="keywordtype">char</span> *name = app-&gt;msgq_params[id].name;</div>
<div class="line"></div>
<div class="line">                fprintf(f, <span class="stringliteral">&quot; %s&quot;</span>, name);</div>
<div class="line">            }</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* msgq_out */</span></div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;n_msgq_out) {</div>
<div class="line">            uint32_t j;</div>
<div class="line"></div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;msgq_out =&quot;</span>);</div>
<div class="line">            <span class="keywordflow">for</span> (j = 0; j &lt; p-&gt;n_msgq_out; j++) {</div>
<div class="line">                uint32_t <span class="keywordtype">id</span> = p-&gt;msgq_out[j];</div>
<div class="line">                <span class="keywordtype">char</span> *name = app-&gt;msgq_params[id].name;</div>
<div class="line"></div>
<div class="line">                fprintf(f, <span class="stringliteral">&quot; %s&quot;</span>, name);</div>
<div class="line">            }</div>
<div class="line">            fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* timer_period */</span></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;timer_period = %&quot;</span> PRIu32 <span class="stringliteral">&quot;\n&quot;</span>, p-&gt;timer_period);</div>
<div class="line"></div>
<div class="line">        <span class="comment">/* args */</span></div>
<div class="line">        <span class="keywordflow">if</span> (p-&gt;n_args) {</div>
<div class="line">            uint32_t j;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">for</span> (j = 0; j &lt; p-&gt;n_args; j++)</div>
<div class="line">                fprintf(f, <span class="stringliteral">&quot;%s = %s\n&quot;</span>, p-&gt;args_name[j],</div>
<div class="line">                    p-&gt;args_value[j]);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        fprintf(f, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">app_config_save(<span class="keyword">struct</span> app_params *app, <span class="keyword">const</span> <span class="keywordtype">char</span> *file_name)</div>
<div class="line">{</div>
<div class="line">    FILE *file;</div>
<div class="line">    <span class="keywordtype">char</span> *name, *dir_name;</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    name = strdup(file_name);</div>
<div class="line">    dir_name = dirname(name);</div>
<div class="line">    status = access(dir_name, W_OK);</div>
<div class="line">    APP_CHECK((status == 0),</div>
<div class="line">        <span class="stringliteral">&quot;Error: need write access privilege to directory &quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;\&quot;%s\&quot; to save configuration\n&quot;</span>, dir_name);</div>
<div class="line"></div>
<div class="line">    file = fopen(file_name, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line">    APP_CHECK((file != NULL),</div>
<div class="line">        <span class="stringliteral">&quot;Error: failed to save configuration to file \&quot;%s\&quot;&quot;</span>,</div>
<div class="line">        file_name);</div>
<div class="line"></div>
<div class="line">    save_eal_params(app, file);</div>
<div class="line">    save_pipeline_params(app, file);</div>
<div class="line">    save_mempool_params(app, file);</div>
<div class="line">    save_links_params(app, file);</div>
<div class="line">    save_rxq_params(app, file);</div>
<div class="line">    save_txq_params(app, file);</div>
<div class="line">    save_swq_params(app, file);</div>
<div class="line">    save_tm_params(app, file);</div>
<div class="line">    save_source_params(app, file);</div>
<div class="line">    save_sink_params(app, file);</div>
<div class="line">    save_msgq_params(app, file);</div>
<div class="line"></div>
<div class="line">    fclose(file);</div>
<div class="line">    free(name);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_config_init(<span class="keyword">struct</span> app_params *app)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> i;</div>
<div class="line"></div>
<div class="line">    memcpy(app, &amp;app_params_default, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> app_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;mempool_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;mempool_params[i],</div>
<div class="line">            &amp;mempool_params_default,</div>
<div class="line">            <span class="keyword">sizeof</span>(<span class="keyword">struct</span> app_mempool_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;link_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;link_params[i],</div>
<div class="line">            &amp;link_params_default,</div>
<div class="line">            <span class="keyword">sizeof</span>(<span class="keyword">struct</span> app_link_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;hwq_in_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;hwq_in_params[i],</div>
<div class="line">            &amp;default_hwq_in_params,</div>
<div class="line">            <span class="keyword">sizeof</span>(default_hwq_in_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;hwq_out_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;hwq_out_params[i],</div>
<div class="line">            &amp;default_hwq_out_params,</div>
<div class="line">            <span class="keyword">sizeof</span>(default_hwq_out_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;swq_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;swq_params[i],</div>
<div class="line">            &amp;default_swq_params,</div>
<div class="line">            <span class="keyword">sizeof</span>(default_swq_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;tm_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;tm_params[i],</div>
<div class="line">            &amp;default_tm_params,</div>
<div class="line">            <span class="keyword">sizeof</span>(default_tm_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;source_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;source_params[i],</div>
<div class="line">            &amp;default_source_params,</div>
<div class="line">            <span class="keyword">sizeof</span>(default_source_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;sink_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;sink_params[i],</div>
<div class="line">            &amp;default_sink_params,</div>
<div class="line">            <span class="keyword">sizeof</span>(default_sink_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;msgq_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;msgq_params[i],</div>
<div class="line">            &amp;default_msgq_params,</div>
<div class="line">            <span class="keyword">sizeof</span>(default_msgq_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="rte__common_8h.html#ac963da91b35efa4700b73a1f4eb1d8a6">RTE_DIM</a>(app-&gt;pipeline_params); i++)</div>
<div class="line">        memcpy(&amp;app-&gt;pipeline_params[i],</div>
<div class="line">            &amp;default_pipeline_params,</div>
<div class="line">            <span class="keyword">sizeof</span>(default_pipeline_params));</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span> *</div>
<div class="line">filenamedup(<span class="keyword">const</span> <span class="keywordtype">char</span> *filename, <span class="keyword">const</span> <span class="keywordtype">char</span> *suffix)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *s = malloc(strlen(filename) + strlen(suffix) + 1);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (!s)</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line"></div>
<div class="line">    sprintf(s, <span class="stringliteral">&quot;%s%s&quot;</span>, filename, suffix);</div>
<div class="line">    <span class="keywordflow">return</span> s;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_config_args(<span class="keyword">struct</span> app_params *app, <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *optname;</div>
<div class="line">    <span class="keywordtype">int</span> opt, option_index;</div>
<div class="line">    <span class="keywordtype">int</span> f_present, s_present, p_present, l_present;</div>
<div class="line">    <span class="keywordtype">int</span> preproc_present, preproc_params_present;</div>
<div class="line">    <span class="keywordtype">int</span> scaned = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">struct </span>option lgopts[] = {</div>
<div class="line">        { <span class="stringliteral">&quot;preproc&quot;</span>, 1, 0, 0 },</div>
<div class="line">        { <span class="stringliteral">&quot;preproc-args&quot;</span>, 1, 0, 0 },</div>
<div class="line">        { NULL,  0, 0, 0 }</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Copy application name */</span></div>
<div class="line">    strncpy(app-&gt;app_name, argv[0], APP_APPNAME_SIZE - 1);</div>
<div class="line"></div>
<div class="line">    f_present = 0;</div>
<div class="line">    s_present = 0;</div>
<div class="line">    p_present = 0;</div>
<div class="line">    l_present = 0;</div>
<div class="line">    preproc_present = 0;</div>
<div class="line">    preproc_params_present = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span> ((opt = getopt_long(argc, argv, <span class="stringliteral">&quot;f:s:p:l:&quot;</span>, lgopts,</div>
<div class="line">            &amp;option_index)) != EOF)</div>
<div class="line">        <span class="keywordflow">switch</span> (opt) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (f_present)</div>
<div class="line">                <a name="a16"></a><a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Config file is provided &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;more than once\n&quot;</span>);</div>
<div class="line">            f_present = 1;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (!strlen(optarg))</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Config file name is null\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            app-&gt;config_file = strdup(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (app-&gt;config_file == NULL)</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Memory allocation failure\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (s_present)</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Script file is provided &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;more than once\n&quot;</span>);</div>
<div class="line">            s_present = 1;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (!strlen(optarg))</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Script file name is null\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            app-&gt;script_file = strdup(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (app-&gt;script_file == NULL)</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Memory allocation failure\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (p_present)</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: PORT_MASK is provided &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;more than once\n&quot;</span>);</div>
<div class="line">            p_present = 1;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ((sscanf(optarg, <span class="stringliteral">&quot;%&quot;</span> SCNx64 <span class="stringliteral">&quot;%n&quot;</span>, &amp;app-&gt;port_mask,</div>
<div class="line">                &amp;scaned) != 1) ||</div>
<div class="line">                ((<span class="keywordtype">size_t</span>) scaned != strlen(optarg)))</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: PORT_MASK is not &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;a hexadecimal integer\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (app-&gt;port_mask == 0)</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: PORT_MASK is null\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (l_present)</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: LOG_LEVEL is provided &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;more than once\n&quot;</span>);</div>
<div class="line">            l_present = 1;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ((sscanf(optarg, <span class="stringliteral">&quot;%&quot;</span> SCNu32 <span class="stringliteral">&quot;%n&quot;</span>, &amp;app-&gt;log_level,</div>
<div class="line">                &amp;scaned) != 1) ||</div>
<div class="line">                ((<span class="keywordtype">size_t</span>) scaned != strlen(optarg)) ||</div>
<div class="line">                (app-&gt;log_level &gt;= APP_LOG_LEVELS))</div>
<div class="line">                <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: LOG_LEVEL invalid value\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">case</span> 0:</div>
<div class="line">            optname = lgopts[option_index].name;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (strcmp(optname, <span class="stringliteral">&quot;preproc&quot;</span>) == 0) {</div>
<div class="line">                <span class="keywordflow">if</span> (preproc_present)</div>
<div class="line">                    <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Preprocessor argument &quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;is provided more than once\n&quot;</span>);</div>
<div class="line">                preproc_present = 1;</div>
<div class="line"></div>
<div class="line">                app-&gt;preproc = strdup(optarg);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (strcmp(optname, <span class="stringliteral">&quot;preproc-args&quot;</span>) == 0) {</div>
<div class="line">                <span class="keywordflow">if</span> (preproc_params_present)</div>
<div class="line">                    <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Preprocessor args &quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;are provided more than once\n&quot;</span>);</div>
<div class="line">                preproc_params_present = 1;</div>
<div class="line"></div>
<div class="line">                app-&gt;preproc_args = strdup(optarg);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            app_print_usage(argv[0]);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            app_print_usage(argv[0]);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    optind = 0; <span class="comment">/* reset getopt lib */</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Check dependencies between args */</span></div>
<div class="line">    <span class="keywordflow">if</span> (preproc_params_present &amp;&amp; (preproc_present == 0))</div>
<div class="line">        <a class="code" href="rte__debug_8h.html#a9fcab5683ce1c1164c52c17579cc2b5f">rte_panic</a>(<span class="stringliteral">&quot;Error: Preprocessor args specified while &quot;</span></div>
<div class="line">            <span class="stringliteral">&quot;preprocessor is not defined\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">    app-&gt;parser_file = preproc_present ?</div>
<div class="line">        filenamedup(app-&gt;config_file, <span class="stringliteral">&quot;.preproc&quot;</span>) :</div>
<div class="line">        strdup(app-&gt;config_file);</div>
<div class="line">    app-&gt;output_file = filenamedup(app-&gt;config_file, <span class="stringliteral">&quot;.out&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">app_config_preproc(<span class="keyword">struct</span> app_params *app)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> buffer[256];</div>
<div class="line">    <span class="keywordtype">int</span> status;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (app-&gt;preproc == NULL)</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line"></div>
<div class="line">    status = access(app-&gt;config_file, F_OK | R_OK);</div>
<div class="line">    APP_CHECK((status == 0), <span class="stringliteral">&quot;Error: Unable to open file %s&quot;</span>,</div>
<div class="line">        app-&gt;config_file);</div>
<div class="line"></div>
<div class="line">    snprintf(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%s %s %s &gt; %s&quot;</span>,</div>
<div class="line">        app-&gt;preproc,</div>
<div class="line">        app-&gt;preproc_args ? app-&gt;preproc_args : <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">        app-&gt;config_file,</div>
<div class="line">        app-&gt;parser_file);</div>
<div class="line"></div>
<div class="line">    status = system(buffer);</div>
<div class="line">    APP_CHECK((WIFEXITED(status) &amp;&amp; (WEXITSTATUS(status) == 0)),</div>
<div class="line">        <span class="stringliteral">&quot;Error occurred while pre-processing file \&quot;%s\&quot;\n&quot;</span>,</div>
<div class="line">        app-&gt;config_file);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
