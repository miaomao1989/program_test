<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DPDK: lib/librte_sched/rte_bitmap.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">16.04.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_09939486c1591516b984494000c3f64b.html">librte_sched</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_bitmap.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="rte__common_8h_source.html">rte_common.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="rte__debug_8h_source.html">rte_debug.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="rte__memory_8h_source.html">rte_memory.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="rte__branch__prediction_8h_source.html">rte_branch_prediction.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="rte__prefetch_8h_source.html">rte_prefetch.h</a>&gt;</code><br/>
</div>
<p><a href="rte__bitmap_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrte__bitmap.html">rte_bitmap</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a62cb3ed982d94c948669352dbe50545f"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#a62cb3ed982d94c948669352dbe50545f">rte_bitmap_get_memory_footprint</a> (uint32_t n_bits)</td></tr>
<tr class="separator:a62cb3ed982d94c948669352dbe50545f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8be0de2db024794045b9fe74adb4678"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#ad8be0de2db024794045b9fe74adb4678">rte_bitmap_init</a> (uint32_t n_bits, uint8_t *mem, uint32_t mem_size)</td></tr>
<tr class="separator:ad8be0de2db024794045b9fe74adb4678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a490198760eaaf9a9d564a2a7a84f25cb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#a490198760eaaf9a9d564a2a7a84f25cb">rte_bitmap_free</a> (struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *bmp)</td></tr>
<tr class="separator:a490198760eaaf9a9d564a2a7a84f25cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb51f3acdb709b19c9ca94a08bfdec50"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#acb51f3acdb709b19c9ca94a08bfdec50">rte_bitmap_reset</a> (struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *bmp)</td></tr>
<tr class="separator:acb51f3acdb709b19c9ca94a08bfdec50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a245818abde2b1832e706864274c11e94"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#a245818abde2b1832e706864274c11e94">rte_bitmap_prefetch0</a> (struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *bmp, uint32_t pos)</td></tr>
<tr class="separator:a245818abde2b1832e706864274c11e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b89bc7e8cfb31e59604936095ba8086"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#a5b89bc7e8cfb31e59604936095ba8086">rte_bitmap_get</a> (struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *bmp, uint32_t pos)</td></tr>
<tr class="separator:a5b89bc7e8cfb31e59604936095ba8086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afee8d22bec7a960a4a4870cbb5ea2086"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#afee8d22bec7a960a4a4870cbb5ea2086">rte_bitmap_set</a> (struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *bmp, uint32_t pos)</td></tr>
<tr class="separator:afee8d22bec7a960a4a4870cbb5ea2086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68171b32a40a4087aaef7414f75811b5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#a68171b32a40a4087aaef7414f75811b5">rte_bitmap_set_slab</a> (struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *bmp, uint32_t pos, uint64_t slab)</td></tr>
<tr class="separator:a68171b32a40a4087aaef7414f75811b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bcf251ecdfe4b2a8648ad1a47348222"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#a4bcf251ecdfe4b2a8648ad1a47348222">rte_bitmap_clear</a> (struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *bmp, uint32_t pos)</td></tr>
<tr class="separator:a4bcf251ecdfe4b2a8648ad1a47348222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8efcc6ef4112314724082124308ad711"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__bitmap_8h.html#a8efcc6ef4112314724082124308ad711">rte_bitmap_scan</a> (struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *bmp, uint32_t *pos, uint64_t *slab)</td></tr>
<tr class="separator:a8efcc6ef4112314724082124308ad711"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE Bitmap</p>
<p>The bitmap component provides a mechanism to manage large arrays of bits through bit get/set/clear and bit array scan operations.</p>
<p>The bitmap scan operation is optimized for 64-bit CPUs using 64/128 byte cache lines. The bitmap is hierarchically organized using two arrays (array1 and array2), with each bit in array1 being associated with a full cache line (512/1024 bits) of bitmap bits, which are stored in array2: the bit in array1 is set only when there is at least one bit set within its associated array2 bits, otherwise the bit in array1 is cleared. The read and write operations for array1 and array2 are always done in slabs of 64 bits.</p>
<p>This bitmap is not thread safe. For lock free operation on a specific bitmap instance, a single writer thread performing bit set/clear operations is allowed, only the writer thread can do bitmap scan operations, while there can be several reader threads performing bit get operations in parallel with the writer thread. When the use of locking primitives is acceptable, the serialization of the bit set/clear and bitmap scan operations needs to be enforced by the caller, while the bit get operation does not require locking the bitmap. </p>

<p>Definition in file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a62cb3ed982d94c948669352dbe50545f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t rte_bitmap_get_memory_footprint </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n_bits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap memory footprint calculation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_bits</td><td>Number of bits in the bitmap </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bitmap memory footprint measured in bytes on success, 0 on error </dd></dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00216">216</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad8be0de2db024794045b9fe74adb4678"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a>* rte_bitmap_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mem_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap initialization</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem_size</td><td>Minimum expected size of bitmap. </td></tr>
    <tr><td class="paramname">mem</td><td>Base address of array1 and array2. </td></tr>
    <tr><td class="paramname">n_bits</td><td>Number of pre-allocated bits in array2. Must be non-zero and multiple of 512. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Handle to bitmap instance. </dd></dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00238">238</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a490198760eaaf9a9d564a2a7a84f25cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rte_bitmap_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td>
          <td class="paramname"><em>bmp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap free</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bmp</td><td>Handle to bitmap instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, error code otherwise </dd></dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00283">283</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="acb51f3acdb709b19c9ca94a08bfdec50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_bitmap_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td>
          <td class="paramname"><em>bmp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap reset</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bmp</td><td>Handle to bitmap instance </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00300">300</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a245818abde2b1832e706864274c11e94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_bitmap_prefetch0 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td>
          <td class="paramname"><em>bmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap location prefetch into CPU L1 cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bmp</td><td>Handle to bitmap instance </td></tr>
    <tr><td class="paramname">pos</td><td>Bit position </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, error code otherwise </dd></dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00318">318</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5b89bc7e8cfb31e59604936095ba8086"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t rte_bitmap_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td>
          <td class="paramname"><em>bmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap bit get</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bmp</td><td>Handle to bitmap instance </td></tr>
    <tr><td class="paramname">pos</td><td>Bit position </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when bit is cleared, non-zero when bit is set </dd></dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00339">339</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="afee8d22bec7a960a4a4870cbb5ea2086"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_bitmap_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td>
          <td class="paramname"><em>bmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap bit set</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bmp</td><td>Handle to bitmap instance </td></tr>
    <tr><td class="paramname">pos</td><td>Bit position </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00359">359</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a68171b32a40a4087aaef7414f75811b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_bitmap_set_slab </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td>
          <td class="paramname"><em>bmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>slab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap slab set</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bmp</td><td>Handle to bitmap instance </td></tr>
    <tr><td class="paramname">pos</td><td>Bit position identifying the array2 slab </td></tr>
    <tr><td class="paramname">slab</td><td>Value to be assigned to the 64-bit slab in array2 </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00387">387</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4bcf251ecdfe4b2a8648ad1a47348222"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rte_bitmap_clear </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td>
          <td class="paramname"><em>bmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap bit clear</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bmp</td><td>Handle to bitmap instance </td></tr>
    <tr><td class="paramname">pos</td><td>Bit position </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00427">427</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8efcc6ef4112314724082124308ad711"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rte_bitmap_scan </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrte__bitmap.html">rte_bitmap</a> *&#160;</td>
          <td class="paramname"><em>bmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>slab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Bitmap scan (with automatic wrap-around)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bmp</td><td>Handle to bitmap instance </td></tr>
    <tr><td class="paramname">pos</td><td>When function call returns 1, pos contains the position of the next set bit, otherwise not modified </td></tr>
    <tr><td class="paramname">slab</td><td>When function call returns 1, slab contains the value of the entire 64-bit slab where the bit indicated by pos is located. Slabs are always 64-bit aligned, so the position of the first bit of the slab (this bit is not necessarily set) is pos / 64. Once a slab has been returned by the bitmap scan operation, the internal pointers of the bitmap are updated to point after this slab, so the same slab will not be returned again if it contains more than one bit which is set. When function call returns 0, slab is not modified. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if there is no bit set in the bitmap, 1 otherwise </dd></dl>

<p>Definition at line <a class="el" href="rte__bitmap_8h_source.html#l00538">538</a> of file <a class="el" href="rte__bitmap_8h_source.html">rte_bitmap.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
