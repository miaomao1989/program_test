<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>DPDK: lib/librte_power/rte_power_acpi_cpufreq.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DPDK
   &#160;<span id="projectnumber">16.04.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_5188debcb509bb3663f061cc199aacda.html">librte_power</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rte_power_acpi_cpufreq.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="rte__common_8h_source.html">rte_common.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="rte__byteorder_8h_source.html">rte_byteorder.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="rte__log_8h_source.html">rte_log.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="rte__string__fns_8h_source.html">rte_string_fns.h</a>&gt;</code><br/>
</div>
<p><a href="rte__power__acpi__cpufreq_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a662b6c02f7c8a60f36370fbfbcd9fc20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#a662b6c02f7c8a60f36370fbfbcd9fc20">rte_power_acpi_cpufreq_init</a> (unsigned lcore_id)</td></tr>
<tr class="separator:a662b6c02f7c8a60f36370fbfbcd9fc20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e817fcff6e269a976d2e81cf11dc67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#af7e817fcff6e269a976d2e81cf11dc67">rte_power_acpi_cpufreq_exit</a> (unsigned lcore_id)</td></tr>
<tr class="separator:af7e817fcff6e269a976d2e81cf11dc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1452281d591d81934cb6c04895f571"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#aad1452281d591d81934cb6c04895f571">rte_power_acpi_cpufreq_freqs</a> (unsigned lcore_id, uint32_t *freqs, uint32_t num)</td></tr>
<tr class="separator:aad1452281d591d81934cb6c04895f571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27738f18721f788c4e81584e246e534a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#a27738f18721f788c4e81584e246e534a">rte_power_acpi_cpufreq_get_freq</a> (unsigned lcore_id)</td></tr>
<tr class="separator:a27738f18721f788c4e81584e246e534a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad602141741891978f32e5d0ec6188a82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#ad602141741891978f32e5d0ec6188a82">rte_power_acpi_cpufreq_set_freq</a> (unsigned lcore_id, uint32_t index)</td></tr>
<tr class="separator:ad602141741891978f32e5d0ec6188a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ecca708a5f5f18f144b0861c0f7fab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#ae0ecca708a5f5f18f144b0861c0f7fab">rte_power_acpi_cpufreq_freq_up</a> (unsigned lcore_id)</td></tr>
<tr class="separator:ae0ecca708a5f5f18f144b0861c0f7fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66134ef0b9310a6696779960a5bf16c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#ae66134ef0b9310a6696779960a5bf16c">rte_power_acpi_cpufreq_freq_down</a> (unsigned lcore_id)</td></tr>
<tr class="separator:ae66134ef0b9310a6696779960a5bf16c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f55a560aaa4cef406c0e3d1e274588"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#aa6f55a560aaa4cef406c0e3d1e274588">rte_power_acpi_cpufreq_freq_max</a> (unsigned lcore_id)</td></tr>
<tr class="separator:aa6f55a560aaa4cef406c0e3d1e274588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a848a92fdc410390dc92e82ff3bfdf3ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rte__power__acpi__cpufreq_8h.html#a848a92fdc410390dc92e82ff3bfdf3ad">rte_power_acpi_cpufreq_freq_min</a> (unsigned lcore_id)</td></tr>
<tr class="separator:a848a92fdc410390dc92e82ff3bfdf3ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RTE Power Management via userspace ACPI cpufreq </p>

<p>Definition in file <a class="el" href="rte__power__acpi__cpufreq_8h_source.html">rte_power_acpi_cpufreq.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a662b6c02f7c8a60f36370fbfbcd9fc20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_acpi_cpufreq_init </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize power management for a specific lcore. It will check and set the governor to userspace for the lcore, get the available frequencies, and prepare to set new lcore frequency.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="af7e817fcff6e269a976d2e81cf11dc67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_acpi_cpufreq_exit </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exit power management on a specific lcore. It will set the governor to which is before initialized.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="aad1452281d591d81934cb6c04895f571"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rte_power_acpi_cpufreq_freqs </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>freqs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the available frequencies of a specific lcore. The return value will be the minimal one of the total number of available frequencies and the number of buffer. The index of available frequencies used in other interfaces should be in the range of 0 to this return value. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id. </td></tr>
    <tr><td class="paramname">freqs</td><td>The buffer array to save the frequencies. </td></tr>
    <tr><td class="paramname">num</td><td>The number of frequencies to get.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of available frequencies. </dd></dl>

</div>
</div>
<a class="anchor" id="a27738f18721f788c4e81584e246e534a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t rte_power_acpi_cpufreq_get_freq </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current index of available frequencies of a specific lcore. It will return 'RTE_POWER_INVALID_FREQ_INDEX = (~0)' if error. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current index of available frequencies. </dd></dl>

</div>
</div>
<a class="anchor" id="ad602141741891978f32e5d0ec6188a82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_acpi_cpufreq_set_freq </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the new frequency for a specific lcore by indicating the index of available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id. </td></tr>
    <tr><td class="paramname">index</td><td>The index of available frequencies.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency changed.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ae0ecca708a5f5f18f144b0861c0f7fab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_acpi_cpufreq_freq_up </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale up the frequency of a specific lcore according to the available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency changed.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ae66134ef0b9310a6696779960a5bf16c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_acpi_cpufreq_freq_down </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale down the frequency of a specific lcore according to the available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency changed.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="aa6f55a560aaa4cef406c0e3d1e274588"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_acpi_cpufreq_freq_max </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale up the frequency of a specific lcore to the highest according to the available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency changed.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a848a92fdc410390dc92e82ff3bfdf3ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rte_power_acpi_cpufreq_freq_min </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>lcore_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Scale down the frequency of a specific lcore to the lowest according to the available frequencies. It should be protected outside of this function for threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcore_id</td><td>lcore id.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>1 on success with frequency changed.</li>
<li>0 on success without frequency chnaged.</li>
<li>Negative on error. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
